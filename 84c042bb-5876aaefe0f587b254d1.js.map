{"version":3,"sources":["webpack:///./node_modules/@react-pdf/renderer/dist/react-pdf.browser.es.js"],"names":["warning","Root","this","isDirty","document","instance","_proto","prototype","appendChild","child","removeChild","cleanup","markDirty","finish","render","_render","mark","_callee","wrap","_context","prev","next","autoFirstPage","stop","apply","arguments","key","get","upperFirst","value","charAt","toUpperCase","slice","matchPercent","match","exec","isPercent","_value","parseFloat","percent","absValue","Math","abs","absPercent","YOGA_CONFIG","Config","create","setPointScaleFactor","Node","parent","children","computed","layout","createWithConfig","push","insertChild","getChildCount","appendChildBefore","beforeChild","index","indexOf","splice","removeAllChilds","concat","i","length","remove","setDimension","attr","fixedMethod","percentMethod","setPosition","edge","setPositionPercent","setPadding","setPaddingPercent","setMargin","setMarginPercent","setBorder","Error","getAbsoluteLayout","parentLayout","left","top","height","width","copyStyle","node","calculateLayout","isEmpty","onAppendDynamically","forEach","c","unsetMeasureFunc","destroy","getPositionType","POSITION_TYPE_ABSOLUTE","set","setPositionType","POSITION_TYPE_RELATIVE","getComputedTop","EDGE_TOP","getComputedLeft","EDGE_LEFT","getComputedRight","EDGE_RIGHT","getComputedBottom","EDGE_BOTTOM","getComputedWidth","getMinWidth","getMaxWidth","getComputedHeight","getMinHeight","getMaxHeight","getComputedPadding","getComputedMargin","getComputedBorder","paddingTop","right","paddingRight","bottom","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","yogaValue","prop","isAlignType","ALIGN_AUTO","DISPLAY_FLEX","DISPLAY_NONE","FLEX_DIRECTION_ROW","FLEX_DIRECTION_ROW_REVERSE","FLEX_DIRECTION_COLUMN","FLEX_DIRECTION_COLUMN_REVERSE","ALIGN_STRETCH","ALIGN_BASELINE","JUSTIFY_SPACE_AROUND","ALIGN_SPACE_AROUND","JUSTIFY_SPACE_BETWEEN","ALIGN_SPACE_BETWEEN","WRAP_WRAP","WRAP_WRAP_REVERSE","WRAP_NO_WRAP","JUSTIFY_FLEX_START","ALIGN_FLEX_START","JUSTIFY_FLEX_END","ALIGN_FLEX_END","JUSTIFY_CENTER","ALIGN_CENTER","parseScalar","container","scalar","unit","undefined","parseValue","isAutoHeight","isBorderStyle","processBorders","matchBorderShorthand","isBoxModelStyle","processBoxModel","matchBoxModel","FONT_WEIGHTS","thin","hairline","ultralight","extralight","light","normal","medium","semibold","demibold","bold","ultrabold","extrabold","heavy","black","isFontWeightStyle","processFontWeight","toLowerCase","isObjectPositionStyle","processObjectPosition","matchObjectPosition","isTransformOriginStyle","processTransformOrigin","matchTransformOrigin","result","transformOffsetKeywords","hasOwnProperty","Object","styleShorthands","margin","marginHorizontal","marginVertical","padding","paddingHorizontal","paddingVertical","border","borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderTop","borderRight","borderBottom","borderLeft","borderColor","borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderStyle","borderWidth","objectPosition","objectPositionX","objectPositionY","transformOrigin","transformOriginX","transformOriginY","transformStyles","style","expandedStyles","propsArray","keys","resolvedStyle","verticalAlign","expandedProps","propName","call","expandStyles","resolved","flatten","input","Array","isArray","reduce","acc","s","StyleSheet","hairlineWidth","styles","resolve","_extends2","_matchMedia","test","resolveMediaQueries","absoluteFillObject","position","Debug","debug","root","save","debugContent","debugPadding","debugMargin","debugText","debugOrigin","restore","transform","origin","circle","fill","stroke","roundedWidth","round","roundedHeight","fontSize","opacity","fillColor","text","max","rect","KAPPA","sqrt","clipBorderTop","ctx","rtr","rtl","moveTo","lineTo","c0","bezierCurveTo","topRightYCoord","innerTopRightRadiusX","innerTopRightRadiusY","c1","c2","innerTopLeftRadiusX","innerTopLeftRadiusY","c3","c4","topLeftYCoord","c5","closePath","clip","trSlope","_trSlope","fillBorderTop","strokeColor","lineWidth","dash","space","undash","clipBorderRight","rbr","topBottomXCoord","innerBottomRightRadiusX","innerBottomRightRadiusY","topRightXCoord","brSlope","fillBorderRight","clipBorderBottom","rbl","bottomLeftYCoord","innerBottomLeftRadiusX","innerBottomLeftRadiusY","bottomRightYCoord","fillBorderBottom","clipBorderLeft","topLeftCoordX","bottomLeftXCoord","_trSlope2","fillBorderLeft","Borders","drawBorders","_this$style","_this$style$borderTop","_this$style$borderTop2","_this$style$borderBot","_this$style$borderBot2","_this$style$borderTop3","_this$style$borderTop4","_this$style$borderLef","_this$style$borderLef2","_this$style$borderRig","_this$style$borderRig2","_this$style$borderBot3","_this$style$borderBot4","min","strokeOpacity","KAPPA$1","Clipping","_this$getAbsoluteLayo","ctr","cbr","cbl","ctl","getTranslateX","matchX","matchGeneric","getTranslateY","matchY","getScaleX","getScaleY","applySingleTransformation","element","rotate","PI","getRotation","scale","translate","_element$root$instanc","getMatrix","Transformations","applyTransformations","re","merge","a","b","deepMerge","objs","obj","isFunction","inheritedProperties","Base","_Node","props","_this","constructor","defaultProps","update","newProps","applyProps","_this2","resolveStyles","map","_ref","attribute","applyStyle","_this$page","page","size","orientation","ownStyles","inheritedStyles","setter","getLayoutData","type","name","drawBackgroundColor","backgroundColor","_this$style$opacity","fillOpacity","clone","onNodeSplit","renderChildren","_renderChildren","break","fixed","minPresenceAhead","_this$style2","_this$getAbsoluteLayo2","percentX","percentY","assign","range","steps","from","ceil","_","matchPercentage","Ruler","getRulerWidth","hasHorizontalRuler","ruler","horizontalRuler","hasVerticalRuler","verticalRuler","getHorizontalSteps","horizontalRulerSteps","rulerSteps","percentage","getVerticalSteps","verticalRulerSteps","renderRuler","drawHorizontalRuler","drawVerticalRuler","RULER_WIDTH","offset","hRange","step","vRange","TextInstance","PAGE_SIZES","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","C10","RA0","RA1","RA2","RA3","RA4","SRA0","SRA1","SRA2","SRA3","SRA4","EXECUTIVE","FOLIO","LEGAL","LETTER","TABLOID","ID1","PROTOCOL_REGEXP","DEST_REGEXP","getURL","isSrcId","src","setLink","_node$getAbsoluteLayo","instanceMethod","nodeSrc","setDestination","id","addNamedDestination","Page","_Base","_size","resetMargins","rulerWidth","dimension","addDynamicChild","_addDynamicChild","elements","_instance","abrupt","createInstance","_x","_x2","renderDynamicNodes","_renderDynamicNodes","_callee2","cb","listToExplore","_context2","shift","_x3","_x4","nodeWillWrap","_nodeWillWrap","_callee3","_context3","_x5","_callee4","_context4","addPage","getPageSize","View","overflow","emojiSource","hyphenationCallback","fetchFont","options","response","buffer","sent","arrayBuffer","Buffer","FontSource","fontFamily","fontStyle","fontWeight","data","loading","load","_load","postscriptName","_this$options","headers","body","_this$options$method","method","dataUrl","header","split","substring","Promise","reject","open","err","Font","family","sources","_proto2","register","_ref2","descriptor","res","_descriptor$fontWeigh","_descriptor$fontStyle","styleSources","filter","exactFit","find","leftOffset","rightOffset","lt","gt","emoji","registerEmojiSource","url","_ref$format","format","getEmojiSource","standardFonts","hyphenation","registerHyphenationCallback","callback","getHyphenationCallback","fonts","getFont","includes","doc","font","Font$1","getRegisteredFonts","getRegisteredFontFamilies","clear","reset","_font","StandardFont","str","_this$src$encode","encode","encoded","positions","stringIndices","glyphs","g","glyph","getGlyph","parseInt","advanceWidth","glyphForCodePoint","codePoint","codePoints","isLigature","characterToGlyph","hasGlyphForCodePoint","fontCache","IGNORED_CODE_POINTS","getFontSize","getFallbackFont","getOrCreateFont","shouldFallbackToFont","engines","linebreaker","justification","textDecoration","scriptItemizer","wordHyphenation","fontSubstitution","string","runs","lastFont","lastFontSize","lastIndex","_iterator","_isArray","_i","Symbol","iterator","done","run","defaultFont","attributes","start","end","_iterator2","_isArray2","_i2","_ref3","char","codePointAt","_fontSize","unitsPerEm","engine","isValid","e","MARKERS","JPEG","readUInt16BE","marker","pos","isBuffer","_temp","_ref$limit","limit","cache","IMAGE_CACHE","fetchRemoteFile","uri","getImage","extension","resolveBufferImage","guessFormat","getImageFormat","isPng","isJpg","resolveImageFromUrl","_ref6","_src$method","t0","resolveImage","_temp3","image","_ref7","_ref7$cache","cacheKey","toString","_ref5","lower","isValidFormat","resolveBase64Image","JSON","stringify","resolveImageFromData","emojis","regex","_removeNoColor","x","buildEmojiUrl","_Font$getEmojiSource","join","fetchEmojis","promises","_loop","promise","emojiUrl","fetchEmojiImage","then","v","IGNORABLE_CODEPOINTS","PREPROCESSORS","fragments","fragment","charSubset","String","fromCharCode","subsetRegex","RegExp","replace","emojiSize","chunk","attachment","yOffset","floor","isImage","isTextInstance","transformText","transformation","l","getAttributedString","fromFragments","getFragments","_instance$style","_instance$style$color","color","_instance$style$fontF","_instance$style$fontS","_instance$style$textA","textAlign","lineHeight","textDecorationColor","textDecorationStyle","textTransform","letterSpacing","textIndent","align","indent","link","characterSpacing","underlineStyle","underline","underlineColor","strike","strikeStyle","strikeColor","_fragments","preprocessor","Text","blocks","attributedString","layoutOptions","hyphenationPenalty","shrinkWhitespaceFactor","before","after","setMeasureFunc","measureText","bind","lineIndexAtHeight","counter","lines","line","box","heightAtLineIndex","layoutText","y","Infinity","maxLines","truncateMode","textOverflow","linesCount","widthMode","heightMode","MEASURE_MODE_EXACTLY","linesHeight","MEASURE_MODE_AT_MOST","linesWidth","wrapHeight","_this$props","orphans","widows","linesQuantity","sliceHeight","slicedLine","slicedLineIndex","layoutEngine","renderText","initialY","href","block","Link","Note","note","isNumeric","n","isNaN","isFinite","applyContainObjectFit","cw","ch","iw","ih","px","py","cr","ir","pxp","pyp","pxv","pyv","xOffset","_width","_height","_xOffset","applyNoneObjectFit","resolveObjectFit","_width2","applyCoverObjectFit","containDimension","noneDimension","applyScaleDownObjectFit","applyFillObjectFit","Image","measureImage","shouldGrow","flexGrow","imageMargin","pagePadding","pageArea","MEASURE_MODE_UNDEFINED","scaledHeight","ratio","_scaledHeight","fetch","_fetch","safePath","allowDangerousPaths","t1","console","warn","message","_onAppendDynamically","renderImage","_resolveObjectFit","objectFit","source","defaultPresenceAhead","getPresenceAhead","isElementInside","presenceAhead","cloneRecursively","pageNumber","nextPageElements","elementsToBeRemoved","futureElements","isElementOutside","elementShouldSplit","elementFitsFullPageHeight","elementShouldBreak","newFutureElements","nonFixedElements","delegateYield","remainingHeight","wrapPages","nodes","pageIndex","wrapResult","nextPage","nextPages","every","_x6","wrapPage","pages","_x7","_x8","_x9","Document","subpages","addMetaData","title","author","subject","keywords","creator","producer","info","Title","Author","Subject","Keywords","Creator","Producer","loadFonts","_loadFonts","childNode","all","loadEmojis","_loadEmojis","loadImages","_loadImages","loadAssets","_loadAssets","p","_wrapPages2","_callee6","pageCount","_context6","_callee5","wrapArea","_context5","sub","number","count","renderPages","_renderPages","_callee7","normalized","j","_context7","totalPages","subPageNumber","subPageTotalPages","_callee8","_context8","availableMethods","painter","linearGradient","radialGradient","Canvas","availableWidth","availableHeight","paint","constructors","ROOT","PAGE","TEXT","LINK","VIEW","NOTE","IMAGE","CANVAS","DOCUMENT","TEXT_INSTANCE","_element$props","emptyObject","PDFRenderer","schedulePassiveEffects","cancelPassiveEffects","supportsMutation","appendInitialChild","parentInstance","internalInstanceHandle","shouldReplaceLink","createTextInstance","rootContainerInstance","finalizeInitialChildren","getPublicInstance","prepareForCommit","prepareUpdate","oldProps","propsEqual","oldPropsKeys","newPropsKeys","resetAfterCommit","resetTextContent","getRootHostContext","getChildHostContext","shouldSetTextContent","now","Date","useSyncScheduling","appendChildToContainer","insertBefore","removeChildFromContainer","commitTextUpdate","textInstance","oldText","newText","commitUpdate","updatePayload","View$1","Text$1","Page$1","Image$1","pdf","mountNode","createContainer","callOnRender","params","onRender","layoutData","updateContainer","_toBlob","stream","pipe","on","blob","toBlob","error","_toBuffer","toBuffer","flatStyles","stylesArray","Document$2","createElement","InternalBlobProvider","_React$PureComponent","state","componentDidMount","renderDocument","onDocumentUpdate","componentDidUpdate","oldBlobUrl","setState","URL","createObjectURL","revokeObjectURL","catch","PureComponent","PDFViewer","className","innerRef","_ref4","ref"],"mappings":"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","file":"84c042bb-5876aaefe0f587b254d1.js","sourcesContent":["import _inheritsLoose from '@babel/runtime/helpers/inheritsLoose';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/extends';\nimport React, { Fragment } from 'react';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport BlobStream from 'blob-stream';\nimport ReactFiberReconciler from 'react-reconciler';\nimport { unstable_scheduleCallback, unstable_cancelCallback } from 'scheduler';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport PDFDocument, { PDFFont } from '@react-pdf/pdfkit';\nimport Yoga from '@react-pdf/yoga';\nimport { mergeDeepWith, isNil, compose, equals, type, toPairsIn, pick, pathOr, last, propEq, complement, prop } from 'ramda';\nimport matchMedia from 'media-engine';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport PDFRenderer$1 from '@react-pdf/textkit/renderers/pdf';\nimport AttributedString from '@react-pdf/textkit/attributedString';\nimport 'is-url';\nimport fontkit from '@react-pdf/fontkit';\nimport fetch from 'cross-fetch';\nimport layoutEngine from '@react-pdf/textkit/layout';\nimport linebreaker from '@react-pdf/textkit/engines/linebreaker';\nimport justification from '@react-pdf/textkit/engines/justification';\nimport textDecoration from '@react-pdf/textkit/engines/textDecoration';\nimport scriptItemizer from '@react-pdf/textkit/engines/scriptItemizer';\nimport wordHyphenation from '@react-pdf/textkit/engines/wordHyphenation';\nimport emojiRegex from 'emoji-regex';\nimport PNG from '@react-pdf/png-js';\n\nfunction printWarning(format) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  var argIndex = 0;\n  var message = 'Warning: ' + format.replace(/%s/g, function () {\n    return args[argIndex++];\n  });\n\n  if (typeof console !== 'undefined') {\n    console.error(message);\n  }\n\n  try {\n    throw new Error(message);\n  } catch (x) {}\n}\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = __DEV__ ? function (condition, format) {\n  if (format === undefined) {\n    throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n  }\n\n  if (!condition) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    printWarning.apply(void 0, [format].concat(args));\n  }\n} : function () {};\n\nvar Root = /*#__PURE__*/function () {\n  function Root() {\n    this.isDirty = false;\n    this.document = null;\n    this.instance = null;\n  }\n\n  var _proto = Root.prototype;\n\n  _proto.appendChild = function appendChild(child) {\n    this.document = child;\n  };\n\n  _proto.removeChild = function removeChild() {\n    this.document.cleanup();\n    this.document = null;\n  };\n\n  _proto.markDirty = function markDirty() {\n    this.isDirty = true;\n  };\n\n  _proto.cleanup = function cleanup() {\n    this.document.cleanup();\n  };\n\n  _proto.finish = function finish() {\n    this.document.finish();\n  };\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.instance = new PDFDocument({\n                autoFirstPage: false\n              });\n              _context.next = 3;\n              return this.document.render();\n\n            case 3:\n              this.cleanup();\n              this.isDirty = false;\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(Root, [{\n    key: \"name\",\n    get: function get() {\n      return 'Root';\n    }\n  }]);\n\n  return Root;\n}();\n\nvar upperFirst = function upperFirst(value) {\n  return value.charAt(0).toUpperCase() + value.slice(1);\n};\n\nvar isPercent = function isPercent(value) {\n  return /((-)?\\d+\\.?\\d*)%/g.exec(value);\n};\n\nvar matchPercent = function matchPercent(value) {\n  var match = isPercent(value);\n\n  if (match) {\n    var _value = parseFloat(match[1], 10);\n\n    var percent = _value / 100;\n    return {\n      value: _value,\n      percent: percent,\n      absValue: Math.abs(_value),\n      absPercent: Math.abs(percent)\n    };\n  }\n\n  return null;\n};\n\nvar YOGA_CONFIG = Yoga.Config.create();\nYOGA_CONFIG.setPointScaleFactor(0);\n\nvar Node = /*#__PURE__*/function () {\n  function Node() {\n    this.parent = null;\n    this.children = [];\n    this.computed = false;\n    this.layout = Yoga.Node.createWithConfig(YOGA_CONFIG);\n  }\n\n  var _proto = Node.prototype;\n\n  _proto.appendChild = function appendChild(child) {\n    if (child) {\n      child.parent = this;\n      this.children.push(child);\n      this.layout.insertChild(child.layout, this.layout.getChildCount());\n    }\n  };\n\n  _proto.appendChildBefore = function appendChildBefore(child, beforeChild) {\n    var index = this.children.indexOf(beforeChild);\n\n    if (index !== -1 && child) {\n      child.parent = this;\n      this.children.splice(index, 0, child);\n      this.layout.insertChild(child.layout, index);\n    }\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    var index = this.children.indexOf(child);\n\n    if (index !== -1) {\n      child.parent = null;\n      this.children.splice(index, 1);\n      this.layout.removeChild(child.layout);\n    }\n\n    child.cleanup();\n  };\n\n  _proto.removeAllChilds = function removeAllChilds() {\n    var children = [].concat(this.children);\n\n    for (var i = 0; i < children.length; i++) {\n      children[i].remove();\n    }\n  };\n\n  _proto.remove = function remove() {\n    this.parent.removeChild(this);\n  };\n\n  _proto.setDimension = function setDimension(attr, value) {\n    var fixedMethod = \"set\" + upperFirst(attr);\n    var percentMethod = fixedMethod + \"Percent\";\n    var percent = matchPercent(value);\n\n    if (percent) {\n      this.layout[percentMethod](percent.value);\n    } else {\n      this.layout[fixedMethod](value);\n    }\n  };\n\n  _proto.setPosition = function setPosition(edge, value) {\n    var percent = matchPercent(value);\n\n    if (percent) {\n      this.layout.setPositionPercent(edge, percent.value);\n    } else {\n      this.layout.setPosition(edge, value);\n    }\n  };\n\n  _proto.setPadding = function setPadding(edge, value) {\n    var percent = matchPercent(value);\n\n    if (percent) {\n      this.layout.setPaddingPercent(edge, percent.value);\n    } else {\n      this.layout.setPadding(edge, value);\n    }\n  };\n\n  _proto.setMargin = function setMargin(edge, value) {\n    var percent = matchPercent(value);\n\n    if (percent) {\n      this.layout.setMarginPercent(edge, percent.value);\n    } else {\n      this.layout.setMargin(edge, value);\n    }\n  };\n\n  _proto.setBorder = function setBorder(edge, value) {\n    if (matchPercent(value)) {\n      throw new Error('Node: You cannot set percentage border widths');\n    }\n\n    this.layout.setBorder(edge, value);\n  };\n\n  _proto.getAbsoluteLayout = function getAbsoluteLayout() {\n    var parent = this.parent;\n    var parentLayout = parent && parent.getAbsoluteLayout ? parent.getAbsoluteLayout() : {\n      left: 0,\n      top: 0\n    };\n    return {\n      left: this.left + parentLayout.left,\n      top: this.top + parentLayout.top,\n      height: this.height,\n      width: this.width\n    };\n  };\n\n  _proto.copyStyle = function copyStyle(node) {\n    this.layout.copyStyle(node.layout);\n  };\n\n  _proto.calculateLayout = function calculateLayout() {\n    this.layout.calculateLayout();\n    this.computed = true;\n  };\n\n  _proto.isEmpty = function isEmpty() {\n    return this.children.length === 0;\n  };\n\n  _proto.markDirty = function markDirty() {\n    return this.layout.markDirty();\n  };\n\n  _proto.onAppendDynamically = function onAppendDynamically() {};\n\n  _proto.cleanup = function cleanup() {\n    this.children.forEach(function (c) {\n      return c.cleanup();\n    });\n    this.layout.unsetMeasureFunc();\n    Yoga.Node.destroy(this.layout);\n  };\n\n  _createClass(Node, [{\n    key: \"position\",\n    get: function get() {\n      return this.layout.getPositionType() === Yoga.POSITION_TYPE_ABSOLUTE ? 'absolute' : 'relative';\n    },\n    set: function set(value) {\n      this.layout.setPositionType(value === 'absolute' ? Yoga.POSITION_TYPE_ABSOLUTE : Yoga.POSITION_TYPE_RELATIVE);\n    }\n  }, {\n    key: \"top\",\n    get: function get() {\n      return this.layout.getComputedTop() || 0;\n    },\n    set: function set(value) {\n      this.setPosition(Yoga.EDGE_TOP, value);\n    }\n  }, {\n    key: \"left\",\n    get: function get() {\n      return this.layout.getComputedLeft() || 0;\n    },\n    set: function set(value) {\n      this.setPosition(Yoga.EDGE_LEFT, value);\n    }\n  }, {\n    key: \"right\",\n    get: function get() {\n      return this.layout.getComputedRight() || 0;\n    },\n    set: function set(value) {\n      this.setPosition(Yoga.EDGE_RIGHT, value);\n    }\n  }, {\n    key: \"bottom\",\n    get: function get() {\n      return this.layout.getComputedBottom() || 0;\n    },\n    set: function set(value) {\n      this.setPosition(Yoga.EDGE_BOTTOM, value);\n    }\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this.layout.getComputedWidth();\n    },\n    set: function set(value) {\n      this.setDimension('width', value);\n    }\n  }, {\n    key: \"minWidth\",\n    get: function get() {\n      return this.layout.getMinWidth().value;\n    },\n    set: function set(value) {\n      this.setDimension('minWidth', value);\n    }\n  }, {\n    key: \"maxWidth\",\n    get: function get() {\n      return this.layout.getMaxWidth().value;\n    },\n    set: function set(value) {\n      this.setDimension('maxWidth', value);\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.layout.getComputedHeight();\n    },\n    set: function set(value) {\n      this.setDimension('height', value);\n    }\n  }, {\n    key: \"minHeight\",\n    get: function get() {\n      return this.layout.getMinHeight().value;\n    },\n    set: function set(value) {\n      this.setDimension('minHeight', value);\n    }\n  }, {\n    key: \"maxHeight\",\n    get: function get() {\n      return this.layout.getMaxHeight().value;\n    },\n    set: function set(value) {\n      this.setDimension('maxHeight', value);\n    }\n  }, {\n    key: \"paddingTop\",\n    get: function get() {\n      return this.layout.getComputedPadding(Yoga.EDGE_TOP) || 0;\n    },\n    set: function set(value) {\n      this.setPadding(Yoga.EDGE_TOP, value);\n    }\n  }, {\n    key: \"paddingRight\",\n    get: function get() {\n      return this.layout.getComputedPadding(Yoga.EDGE_RIGHT) || 0;\n    },\n    set: function set(value) {\n      this.setPadding(Yoga.EDGE_RIGHT, value);\n    }\n  }, {\n    key: \"paddingBottom\",\n    get: function get() {\n      return this.layout.getComputedPadding(Yoga.EDGE_BOTTOM) || 0;\n    },\n    set: function set(value) {\n      this.setPadding(Yoga.EDGE_BOTTOM, value);\n    }\n  }, {\n    key: \"paddingLeft\",\n    get: function get() {\n      return this.layout.getComputedPadding(Yoga.EDGE_LEFT) || 0;\n    },\n    set: function set(value) {\n      this.setPadding(Yoga.EDGE_LEFT, value);\n    }\n  }, {\n    key: \"marginTop\",\n    get: function get() {\n      return this.layout.getComputedMargin(Yoga.EDGE_TOP) || 0;\n    },\n    set: function set(value) {\n      this.setMargin(Yoga.EDGE_TOP, value);\n    }\n  }, {\n    key: \"marginRight\",\n    get: function get() {\n      return this.layout.getComputedMargin(Yoga.EDGE_RIGHT) || 0;\n    },\n    set: function set(value) {\n      this.setMargin(Yoga.EDGE_RIGHT, value);\n    }\n  }, {\n    key: \"marginBottom\",\n    get: function get() {\n      return this.layout.getComputedMargin(Yoga.EDGE_BOTTOM) || 0;\n    },\n    set: function set(value) {\n      this.setMargin(Yoga.EDGE_BOTTOM, value);\n    }\n  }, {\n    key: \"marginLeft\",\n    get: function get() {\n      return this.layout.getComputedMargin(Yoga.EDGE_LEFT) || 0;\n    },\n    set: function set(value) {\n      this.setMargin(Yoga.EDGE_LEFT, value);\n    }\n  }, {\n    key: \"borderTopWidth\",\n    get: function get() {\n      return this.layout.getComputedBorder(Yoga.EDGE_TOP) || 0;\n    },\n    set: function set(value) {\n      this.setBorder(Yoga.EDGE_TOP, value);\n    }\n  }, {\n    key: \"borderRightWidth\",\n    get: function get() {\n      return this.layout.getComputedBorder(Yoga.EDGE_RIGHT) || 0;\n    },\n    set: function set(value) {\n      this.setBorder(Yoga.EDGE_RIGHT, value);\n    }\n  }, {\n    key: \"borderBottomWidth\",\n    get: function get() {\n      return this.layout.getComputedBorder(Yoga.EDGE_BOTTOM) || 0;\n    },\n    set: function set(value) {\n      this.setBorder(Yoga.EDGE_BOTTOM, value);\n    }\n  }, {\n    key: \"borderLeftWidth\",\n    get: function get() {\n      return this.layout.getComputedBorder(Yoga.EDGE_LEFT) || 0;\n    },\n    set: function set(value) {\n      this.setBorder(Yoga.EDGE_LEFT, value);\n    }\n  }, {\n    key: \"padding\",\n    get: function get() {\n      return {\n        top: this.paddingTop,\n        right: this.paddingRight,\n        bottom: this.paddingBottom,\n        left: this.paddingLeft\n      };\n    },\n    set: function set(value) {\n      this.paddingTop = value;\n      this.paddingRight = value;\n      this.paddingBottom = value;\n      this.paddingLeft = value;\n    }\n  }, {\n    key: \"margin\",\n    get: function get() {\n      return {\n        top: this.marginTop,\n        right: this.marginRight,\n        bottom: this.marginBottom,\n        left: this.marginLeft\n      };\n    },\n    set: function set(value) {\n      this.marginTop = value;\n      this.marginRight = value;\n      this.marginBottom = value;\n      this.marginLeft = value;\n    }\n  }]);\n\n  return Node;\n}();\n\nvar yogaValue = function yogaValue(prop, value) {\n  var isAlignType = function isAlignType(prop) {\n    return prop === 'alignItems' || prop === 'alignContent' || prop === 'alignSelf';\n  };\n\n  switch (value) {\n    case 'auto':\n      if (prop === 'alignSelf') {\n        return Yoga.ALIGN_AUTO;\n      }\n\n      break;\n\n    case 'flex':\n      return Yoga.DISPLAY_FLEX;\n\n    case 'none':\n      return Yoga.DISPLAY_NONE;\n\n    case 'row':\n      return Yoga.FLEX_DIRECTION_ROW;\n\n    case 'row-reverse':\n      return Yoga.FLEX_DIRECTION_ROW_REVERSE;\n\n    case 'column':\n      return Yoga.FLEX_DIRECTION_COLUMN;\n\n    case 'column-reverse':\n      return Yoga.FLEX_DIRECTION_COLUMN_REVERSE;\n\n    case 'stretch':\n      return Yoga.ALIGN_STRETCH;\n\n    case 'baseline':\n      return Yoga.ALIGN_BASELINE;\n\n    case 'space-around':\n      if (prop === 'justifyContent') {\n        return Yoga.JUSTIFY_SPACE_AROUND;\n      } else if (isAlignType(prop)) {\n        return Yoga.ALIGN_SPACE_AROUND;\n      }\n\n      break;\n\n    case 'space-between':\n      if (prop === 'justifyContent') {\n        return Yoga.JUSTIFY_SPACE_BETWEEN;\n      } else if (isAlignType(prop)) {\n        return Yoga.ALIGN_SPACE_BETWEEN;\n      }\n\n      break;\n\n    case 'around':\n      return Yoga.JUSTIFY_SPACE_AROUND;\n\n    case 'between':\n      return Yoga.JUSTIFY_SPACE_BETWEEN;\n\n    case 'wrap':\n      return Yoga.WRAP_WRAP;\n\n    case 'wrap-reverse':\n      return Yoga.WRAP_WRAP_REVERSE;\n\n    case 'nowrap':\n      return Yoga.WRAP_NO_WRAP;\n\n    case 'flex-start':\n      if (prop === 'justifyContent') {\n        return Yoga.JUSTIFY_FLEX_START;\n      } else if (isAlignType(prop)) {\n        return Yoga.ALIGN_FLEX_START;\n      }\n\n      break;\n\n    case 'flex-end':\n      if (prop === 'justifyContent') {\n        return Yoga.JUSTIFY_FLEX_END;\n      } else if (isAlignType(prop)) {\n        return Yoga.ALIGN_FLEX_END;\n      }\n\n      break;\n\n    case 'center':\n      if (prop === 'justifyContent') {\n        return Yoga.JUSTIFY_CENTER;\n      } else if (isAlignType(prop)) {\n        return Yoga.ALIGN_CENTER;\n      }\n\n      break;\n\n    default:\n      return value;\n  }\n}; // These are not supported yet\n\n\nvar DPI = 72; // 72pt per inch.\n\nvar parseValue = function parseValue(value) {\n  var match = /^(-?\\d*\\.?\\d+)(in|mm|cm|pt|vh|vw)?$/g.exec(value);\n\n  if (match) {\n    return {\n      value: parseFloat(match[1], 10),\n      unit: match[2] || 'pt'\n    };\n  }\n\n  return {\n    value: value,\n    unit: undefined\n  };\n};\n\nvar parseScalar = function parseScalar(value, container) {\n  var scalar = parseValue(value);\n\n  switch (scalar.unit) {\n    case 'in':\n      return scalar.value * DPI;\n\n    case 'mm':\n      return scalar.value * (1 / 25.4) * DPI;\n\n    case 'cm':\n      return scalar.value * (1 / 2.54) * DPI;\n\n    case 'vh':\n      if (container.isAutoHeight) {\n        throw new Error('vh unit not supported in auto-height pages. Please specify page height if you want to use vh.');\n      }\n\n      return scalar.value * (container.height / 100);\n\n    case 'vw':\n      return scalar.value * (container.width / 100);\n\n    default:\n      return scalar.value;\n  }\n};\n\nvar isBorderStyle = function isBorderStyle(key, value) {\n  return key.match(/^border/) && typeof value === 'string';\n};\n\nvar matchBorderShorthand = function matchBorderShorthand(value) {\n  return value.match(/(\\d+(px|in|mm|cm|pt|vw|vh)?)\\s(\\S+)\\s(\\S+)/);\n}; // Transforms shorthand border values\n\n\nvar processBorders = function processBorders(key, value) {\n  var match = matchBorderShorthand(value);\n\n  if (match) {\n    if (key.match(/.Color/)) {\n      return match[4];\n    } else if (key.match(/.Style/)) {\n      return match[3];\n    } else if (key.match(/.Width/)) {\n      return match[1];\n    } else {\n      throw new Error(\"StyleSheet: Invalid '\" + value + \"' for '\" + key + \"'\");\n    }\n  }\n\n  return value;\n};\n\nvar isBoxModelStyle = function isBoxModelStyle(key, value) {\n  return key.match(/^(margin)|(padding)/) && typeof value === 'string';\n};\n\nvar matchBoxModel = function matchBoxModel(value) {\n  return value.match(/\\d+(px|in|mm|cm|pt|%|vw|vh)?/g);\n}; // Transforms shorthand margin and padding values\n\n\nvar processBoxModel = function processBoxModel(key, value) {\n  var match = matchBoxModel(value);\n\n  if (match) {\n    if (key.match(/.Top/)) {\n      return match[0];\n    } else if (key.match(/.Right/)) {\n      return match[1] || match[0];\n    } else if (key.match(/.Bottom/)) {\n      return match[2] || match[0];\n    } else if (key.match(/.Left/)) {\n      return match[3] || match[1] || match[0];\n    } else {\n      throw new Error(\"StyleSheet: Invalid '\" + value + \"' for '\" + key + \"'\");\n    }\n  }\n\n  return value;\n}; // https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Common_weight_name_mapping\n\n\nvar FONT_WEIGHTS = {\n  thin: 100,\n  hairline: 100,\n  ultralight: 200,\n  extralight: 200,\n  light: 300,\n  normal: 400,\n  medium: 500,\n  semibold: 600,\n  demibold: 600,\n  bold: 700,\n  ultrabold: 800,\n  extrabold: 800,\n  heavy: 900,\n  black: 900\n};\n\nvar isFontWeightStyle = function isFontWeightStyle(key) {\n  return key.match(/^fontWeight/);\n};\n\nvar processFontWeight = function processFontWeight(value) {\n  if (!value) return FONT_WEIGHTS.normal;\n  if (typeof value === 'number') return value;\n  return FONT_WEIGHTS[value.toLowerCase()];\n};\n\nvar isObjectPositionStyle = function isObjectPositionStyle(key, value) {\n  return key.match(/^objectPosition/) && typeof value === 'string';\n};\n\nvar matchObjectPosition = function matchObjectPosition(value) {\n  return value.match(/\\d+(px|in|mm|cm|pt|%|vw|vh)?/g);\n}; // Transforms shorthand objectPosition values\n\n\nvar processObjectPosition = function processObjectPosition(key, value) {\n  var match = matchObjectPosition(value);\n\n  if (match) {\n    if (key.match(/.X/)) {\n      return match[0];\n    } else if (key.match(/.Y/)) {\n      return match[1];\n    } else {\n      throw new Error(\"StyleSheet: Invalid '\" + value + \"' for '\" + key + \"'\");\n    }\n  }\n\n  return value;\n};\n\nvar isTransformOriginStyle = function isTransformOriginStyle(key, value) {\n  return key.match(/^transformOrigin/) && typeof value === 'string';\n};\n\nvar matchTransformOrigin = function matchTransformOrigin(value) {\n  return value.match(/(-?\\d+(px|in|mm|cm|pt|%|vw|vh)?)|top|right|bottom|left|center/g);\n};\n\nvar transformOffsetKeywords = function transformOffsetKeywords(value) {\n  switch (value) {\n    case 'top':\n    case 'left':\n      return '0%';\n\n    case 'right':\n    case 'bottom':\n      return '100%';\n\n    case 'center':\n      return '50%';\n\n    default:\n      return value;\n  }\n}; // Transforms shorthand transformOrigin values\n\n\nvar processTransformOrigin = function processTransformOrigin(key, value) {\n  var match = matchTransformOrigin(value);\n\n  if (match) {\n    var result;\n\n    if (key.match(/.X/)) {\n      result = match[0];\n    } else if (key.match(/.Y/)) {\n      result = match[1] || match[0];\n    } else {\n      throw new Error(\"StyleSheet: Invalid '\" + value + \"' for '\" + key + \"'\");\n    }\n\n    return transformOffsetKeywords(result);\n  }\n\n  return value;\n};\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar styleShorthands = {\n  margin: {\n    marginTop: true,\n    marginRight: true,\n    marginBottom: true,\n    marginLeft: true\n  },\n  marginHorizontal: {\n    marginLeft: true,\n    marginRight: true\n  },\n  marginVertical: {\n    marginTop: true,\n    marginBottom: true\n  },\n  padding: {\n    paddingTop: true,\n    paddingRight: true,\n    paddingBottom: true,\n    paddingLeft: true\n  },\n  paddingHorizontal: {\n    paddingLeft: true,\n    paddingRight: true\n  },\n  paddingVertical: {\n    paddingTop: true,\n    paddingBottom: true\n  },\n  border: {\n    borderTopColor: true,\n    borderTopStyle: true,\n    borderTopWidth: true,\n    borderRightColor: true,\n    borderRightStyle: true,\n    borderRightWidth: true,\n    borderBottomColor: true,\n    borderBottomStyle: true,\n    borderBottomWidth: true,\n    borderLeftColor: true,\n    borderLeftStyle: true,\n    borderLeftWidth: true\n  },\n  borderTop: {\n    borderTopColor: true,\n    borderTopStyle: true,\n    borderTopWidth: true\n  },\n  borderRight: {\n    borderRightColor: true,\n    borderRightStyle: true,\n    borderRightWidth: true\n  },\n  borderBottom: {\n    borderBottomColor: true,\n    borderBottomStyle: true,\n    borderBottomWidth: true\n  },\n  borderLeft: {\n    borderLeftColor: true,\n    borderLeftStyle: true,\n    borderLeftWidth: true\n  },\n  borderColor: {\n    borderTopColor: true,\n    borderRightColor: true,\n    borderBottomColor: true,\n    borderLeftColor: true\n  },\n  borderRadius: {\n    borderTopLeftRadius: true,\n    borderTopRightRadius: true,\n    borderBottomRightRadius: true,\n    borderBottomLeftRadius: true\n  },\n  borderStyle: {\n    borderTopStyle: true,\n    borderRightStyle: true,\n    borderBottomStyle: true,\n    borderLeftStyle: true\n  },\n  borderWidth: {\n    borderTopWidth: true,\n    borderRightWidth: true,\n    borderBottomWidth: true,\n    borderLeftWidth: true\n  },\n  objectPosition: {\n    objectPositionX: true,\n    objectPositionY: true\n  },\n  transformOrigin: {\n    transformOriginX: true,\n    transformOriginY: true\n  }\n}; // Expand the shorthand properties to isolate every declaration from the others.\n\nvar expandStyles = function expandStyles(style) {\n  if (!style) return style;\n  var propsArray = Object.keys(style);\n  var resolvedStyle = {};\n\n  for (var i = 0; i < propsArray.length; i++) {\n    var key = propsArray[i];\n    var value = style[key];\n\n    switch (key) {\n      case 'display':\n      case 'flex':\n      case 'flexDirection':\n      case 'flexWrap':\n      case 'flexFlow':\n      case 'flexGrow':\n      case 'flexShrink':\n      case 'flexBasis':\n      case 'justifyContent':\n      case 'alignSelf':\n      case 'alignItems':\n      case 'alignContent':\n      case 'order':\n        resolvedStyle[key] = yogaValue(key, value);\n        break;\n\n      case 'textAlignVertical':\n        resolvedStyle.verticalAlign = value === 'center' ? 'middle' : value;\n        break;\n\n      case 'margin':\n      case 'marginHorizontal':\n      case 'marginVertical':\n      case 'padding':\n      case 'paddingHorizontal':\n      case 'paddingVertical':\n      case 'border':\n      case 'borderTop':\n      case 'borderRight':\n      case 'borderBottom':\n      case 'borderLeft':\n      case 'borderColor':\n      case 'borderRadius':\n      case 'borderStyle':\n      case 'borderWidth':\n      case 'objectPosition':\n      case 'transformOrigin':\n        {\n          var expandedProps = styleShorthands[key];\n\n          for (var propName in expandedProps) {\n            if (hasOwnProperty.call(expandedProps, propName)) {\n              resolvedStyle[propName] = value;\n            }\n          }\n        }\n        break;\n\n      default:\n        resolvedStyle[key] = value;\n        break;\n    }\n  }\n\n  return resolvedStyle;\n};\n\nvar transformStyles = function transformStyles(style, container) {\n  var expandedStyles = expandStyles(style);\n  var propsArray = Object.keys(expandedStyles);\n  var resolvedStyle = {};\n\n  for (var i = 0; i < propsArray.length; i++) {\n    var key = propsArray[i];\n    var value = expandedStyles[key];\n    var resolved = void 0;\n\n    if (isBorderStyle(key, value)) {\n      resolved = processBorders(key, value);\n    } else if (isBoxModelStyle(key, value)) {\n      resolved = processBoxModel(key, value);\n    } else if (isObjectPositionStyle(key, value)) {\n      resolved = processObjectPosition(key, value);\n    } else if (isTransformOriginStyle(key, value)) {\n      resolved = processTransformOrigin(key, value);\n    } else if (isFontWeightStyle(key, value)) {\n      resolved = processFontWeight(value);\n    } else {\n      resolved = value;\n    }\n\n    resolvedStyle[key] = parseScalar(resolved, container);\n  }\n\n  return resolvedStyle;\n};\n\nvar create = function create(styles) {\n  return styles;\n};\n\nvar flatten = function flatten(input) {\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n\n  var result = input.reduce(function (acc, style) {\n    if (style) {\n      var s = Array.isArray(style) ? flatten(style) : style;\n      Object.keys(s).forEach(function (key) {\n        if (s[key] !== null && s[key] !== undefined) {\n          acc[key] = s[key];\n        }\n      });\n    }\n\n    return acc;\n  }, {});\n  return result;\n};\n\nvar resolveMediaQueries = function resolveMediaQueries(input, container) {\n  var result = Object.keys(input).reduce(function (acc, key) {\n    var _extends2;\n\n    if (/@media/.test(key)) {\n      var _matchMedia;\n\n      return _extends({}, acc, matchMedia((_matchMedia = {}, _matchMedia[key] = input[key], _matchMedia), container));\n    }\n\n    return _extends({}, acc, (_extends2 = {}, _extends2[key] = input[key], _extends2));\n  }, {});\n  return result;\n};\n\nvar resolve = function resolve(styles, container) {\n  if (!styles) return null;\n  styles = flatten(styles);\n  styles = resolveMediaQueries(styles, container);\n  styles = transformStyles(styles, container);\n  return styles;\n};\n\nvar absoluteFillObject = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0\n};\nvar StyleSheet = {\n  hairlineWidth: 1,\n  create: create,\n  resolve: resolve,\n  flatten: flatten,\n  absoluteFillObject: absoluteFillObject\n};\nvar Debug = {\n  debug: function debug() {\n    var layout = this.getAbsoluteLayout();\n    var padding = this.padding;\n    var margin = this.margin;\n    this.root.instance.save();\n    this.debugContent(layout, margin, padding);\n    this.debugPadding(layout, margin, padding);\n    this.debugMargin(layout, margin);\n    this.debugText(layout, margin);\n    this.debugOrigin();\n    this.root.instance.restore();\n  },\n  debugOrigin: function debugOrigin() {\n    if (this.style.transform) {\n      var origin = this.origin;\n      this.root.instance.circle(origin[0], origin[1], 3).fill('red').circle(origin[0], origin[1], 5).stroke('red');\n    }\n  },\n  debugText: function debugText(layout, margin) {\n    var roundedWidth = Math.round(this.width + margin.left + margin.right);\n    var roundedHeight = Math.round(this.height + margin.top + margin.bottom);\n    this.root.instance.fontSize(4).opacity(1).fillColor('black').text(roundedWidth + \" x \" + roundedHeight, layout.left - margin.left, Math.max(layout.top - margin.top - 4, 1));\n  },\n  debugContent: function debugContent(layout, margin, padding) {\n    this.root.instance.fillColor('#a1c6e7').opacity(0.5).rect(layout.left + padding.left, layout.top + padding.top, layout.width - padding.left - padding.right, layout.height - padding.top - padding.bottom).fill();\n  },\n  debugPadding: function debugPadding(layout, margin, padding) {\n    this.root.instance.fillColor('#c4deb9').opacity(0.5); // Padding top\n\n    this.root.instance.rect(layout.left + padding.left, layout.top, layout.width - padding.right - padding.left, padding.top).fill(); // Padding left\n\n    this.root.instance.rect(layout.left, layout.top, padding.left, layout.height).fill(); // Padding right\n\n    this.root.instance.rect(layout.left + layout.width - padding.right, layout.top, padding.right, layout.height).fill(); // Padding bottom\n\n    this.root.instance.rect(layout.left + padding.left, layout.top + layout.height - padding.bottom, layout.width - padding.right - padding.left, padding.bottom).fill();\n  },\n  debugMargin: function debugMargin(layout, margin) {\n    this.root.instance.fillColor('#f8cca1').opacity(0.5); // Margin top\n\n    this.root.instance.rect(layout.left, layout.top - margin.top, layout.width, margin.top).fill(); // Margin left\n\n    this.root.instance.rect(layout.left - margin.left, layout.top - margin.top, margin.left, layout.height + margin.top + margin.bottom).fill(); // Margin right\n\n    this.root.instance.rect(layout.left + layout.width, layout.top - margin.top, margin.right, layout.height + margin.top + margin.bottom).fill(); // Margin bottom\n\n    this.root.instance.rect(layout.left, layout.top + layout.height, layout.width, margin.bottom).fill();\n  }\n}; // Ref: https://www.w3.org/TR/css-backgrounds-3/#borders\n// This constant is used to approximate a symmetrical arc using a cubic Bezier curve.\n\nvar KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\n\nfunction drawBorders() {\n  var instance = this.root.instance;\n  var layout = this.getAbsoluteLayout();\n  var borderTopWidth = this.borderTopWidth,\n      borderLeftWidth = this.borderLeftWidth,\n      borderRightWidth = this.borderRightWidth,\n      borderBottomWidth = this.borderBottomWidth;\n  var _this$style = this.style,\n      opacity = _this$style.opacity,\n      _this$style$borderTop = _this$style.borderTopLeftRadius,\n      borderTopLeftRadius = _this$style$borderTop === void 0 ? 0 : _this$style$borderTop,\n      _this$style$borderTop2 = _this$style.borderTopRightRadius,\n      borderTopRightRadius = _this$style$borderTop2 === void 0 ? 0 : _this$style$borderTop2,\n      _this$style$borderBot = _this$style.borderBottomLeftRadius,\n      borderBottomLeftRadius = _this$style$borderBot === void 0 ? 0 : _this$style$borderBot,\n      _this$style$borderBot2 = _this$style.borderBottomRightRadius,\n      borderBottomRightRadius = _this$style$borderBot2 === void 0 ? 0 : _this$style$borderBot2,\n      _this$style$borderTop3 = _this$style.borderTopColor,\n      borderTopColor = _this$style$borderTop3 === void 0 ? 'black' : _this$style$borderTop3,\n      _this$style$borderTop4 = _this$style.borderTopStyle,\n      borderTopStyle = _this$style$borderTop4 === void 0 ? 'solid' : _this$style$borderTop4,\n      _this$style$borderLef = _this$style.borderLeftColor,\n      borderLeftColor = _this$style$borderLef === void 0 ? 'black' : _this$style$borderLef,\n      _this$style$borderLef2 = _this$style.borderLeftStyle,\n      borderLeftStyle = _this$style$borderLef2 === void 0 ? 'solid' : _this$style$borderLef2,\n      _this$style$borderRig = _this$style.borderRightColor,\n      borderRightColor = _this$style$borderRig === void 0 ? 'black' : _this$style$borderRig,\n      _this$style$borderRig2 = _this$style.borderRightStyle,\n      borderRightStyle = _this$style$borderRig2 === void 0 ? 'solid' : _this$style$borderRig2,\n      _this$style$borderBot3 = _this$style.borderBottomColor,\n      borderBottomColor = _this$style$borderBot3 === void 0 ? 'black' : _this$style$borderBot3,\n      _this$style$borderBot4 = _this$style.borderBottomStyle,\n      borderBottomStyle = _this$style$borderBot4 === void 0 ? 'solid' : _this$style$borderBot4;\n  var style = {\n    borderTopColor: borderTopColor,\n    borderTopWidth: borderTopWidth,\n    borderTopStyle: borderTopStyle,\n    borderLeftColor: borderLeftColor,\n    borderLeftWidth: borderLeftWidth,\n    borderLeftStyle: borderLeftStyle,\n    borderRightColor: borderRightColor,\n    borderRightWidth: borderRightWidth,\n    borderRightStyle: borderRightStyle,\n    borderBottomColor: borderBottomColor,\n    borderBottomWidth: borderBottomWidth,\n    borderBottomStyle: borderBottomStyle,\n    borderTopLeftRadius: borderTopLeftRadius,\n    borderTopRightRadius: borderTopRightRadius,\n    borderBottomLeftRadius: borderBottomLeftRadius,\n    borderBottomRightRadius: borderBottomRightRadius\n  };\n  var width = layout.width,\n      height = layout.height;\n  var rtr = Math.min(borderTopRightRadius, 0.5 * width, 0.5 * height);\n  var rtl = Math.min(borderTopLeftRadius, 0.5 * width, 0.5 * height);\n  var rbr = Math.min(borderBottomRightRadius, 0.5 * width, 0.5 * height);\n  var rbl = Math.min(borderBottomLeftRadius, 0.5 * width, 0.5 * height);\n  instance.save();\n  instance.strokeOpacity(opacity);\n\n  if (borderTopWidth) {\n    instance.save();\n    clipBorderTop(instance, layout, style, rtr, rtl);\n    fillBorderTop(instance, layout, style, rtr, rtl);\n    instance.restore();\n  }\n\n  if (borderRightWidth) {\n    instance.save();\n    clipBorderRight(instance, layout, style, rtr, rbr);\n    fillBorderRight(instance, layout, style, rtr, rbr);\n    instance.restore();\n  }\n\n  if (borderBottomWidth) {\n    instance.save();\n    clipBorderBottom(instance, layout, style, rbl, rbr);\n    fillBorderBottom(instance, layout, style, rbl, rbr);\n    instance.restore();\n  }\n\n  if (borderLeftWidth) {\n    instance.save();\n    clipBorderLeft(instance, layout, style, rbl, rtl);\n    fillBorderLeft(instance, layout, style, rbl, rtl);\n    instance.restore();\n  }\n\n  instance.restore();\n}\n\nvar clipBorderTop = function clipBorderTop(ctx, layout, style, rtr, rtl) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderTopWidth = style.borderTopWidth,\n      borderRightWidth = style.borderRightWidth,\n      borderLeftWidth = style.borderLeftWidth; // Clip outer top border edge\n\n  ctx.moveTo(left + rtl, top);\n  ctx.lineTo(left + width - rtr, top); // Ellipse coefficients outer top right cap\n\n  var c0 = rtr * (1.0 - KAPPA); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + width - c0, top, left + width, top + c0, left + width, top + rtr); // Move down in case the margin exceedes the radius\n\n  var topRightYCoord = top + Math.max(borderTopWidth, rtr);\n  ctx.lineTo(left + width, topRightYCoord); // Clip inner top right cap\n\n  ctx.lineTo(left + width - borderRightWidth, topRightYCoord); // Ellipse coefficients inner top right cap\n\n  var innerTopRightRadiusX = Math.max(rtr - borderRightWidth, 0);\n  var innerTopRightRadiusY = Math.max(rtr - borderTopWidth, 0);\n  var c1 = innerTopRightRadiusX * (1.0 - KAPPA);\n  var c2 = innerTopRightRadiusY * (1.0 - KAPPA); // Clip inner top right cap\n\n  ctx.bezierCurveTo(left + width - borderRightWidth, top + borderTopWidth + c2, left + width - borderRightWidth - c1, top + borderTopWidth, left + width - borderRightWidth - innerTopRightRadiusX, top + borderTopWidth); // Clip inner top border edge\n\n  ctx.lineTo(left + Math.max(rtl, borderLeftWidth), top + borderTopWidth); // Ellipse coefficients inner top left cap\n\n  var innerTopLeftRadiusX = Math.max(rtl - borderLeftWidth, 0);\n  var innerTopLeftRadiusY = Math.max(rtl - borderTopWidth, 0);\n  var c3 = innerTopLeftRadiusX * (1.0 - KAPPA);\n  var c4 = innerTopLeftRadiusY * (1.0 - KAPPA);\n  var topLeftYCoord = top + Math.max(borderTopWidth, rtl); // Clip inner top left cap\n\n  ctx.bezierCurveTo(left + borderLeftWidth + c3, top + borderTopWidth, left + borderLeftWidth, top + borderTopWidth + c4, left + borderLeftWidth, topLeftYCoord);\n  ctx.lineTo(left, topLeftYCoord); // Move down in case the margin exceedes the radius\n\n  ctx.lineTo(left, top + rtl); // Ellipse coefficients outer top left cap\n\n  var c5 = rtl * (1.0 - KAPPA); // Clip outer top left cap\n\n  ctx.bezierCurveTo(left, top + c5, left + c5, top, left + rtl, top);\n  ctx.closePath();\n  ctx.clip(); // Clip border top cap joins\n\n  if (borderRightWidth) {\n    var trSlope = -borderTopWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, trSlope * (-width / 2) + top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderLeftWidth) {\n    var _trSlope = -borderTopWidth / borderLeftWidth;\n\n    ctx.moveTo(left + width / 2, _trSlope * (-width / 2) + top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left + width, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nvar fillBorderTop = function fillBorderTop(ctx, layout, style, rtr, rtl) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width;\n  var borderTopColor = style.borderTopColor,\n      borderTopWidth = style.borderTopWidth,\n      borderTopStyle = style.borderTopStyle,\n      borderRightWidth = style.borderRightWidth,\n      borderLeftWidth = style.borderLeftWidth;\n  var c0 = rtl * (1.0 - KAPPA);\n  var c1 = rtr * (1.0 - KAPPA);\n  ctx.moveTo(left, top + Math.max(rtl, borderTopWidth));\n  ctx.bezierCurveTo(left, top + c0, left + c0, top, left + rtl, top);\n  ctx.lineTo(left + width - rtr, top);\n  ctx.bezierCurveTo(left + width - c1, top, left + width, top + c1, left + width, top + rtr);\n  ctx.strokeColor(borderTopColor);\n  ctx.lineWidth(Math.max(borderRightWidth, borderTopWidth, borderLeftWidth) * 2);\n\n  if (borderTopStyle === 'dashed') {\n    ctx.dash(borderTopWidth * 2, {\n      space: borderTopWidth * 1.2\n    });\n  } else if (borderTopStyle === 'dotted') {\n    ctx.dash(borderTopWidth, {\n      space: borderTopWidth * 1.2\n    });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nvar clipBorderRight = function clipBorderRight(ctx, layout, style, rtr, rbr) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderTopWidth = style.borderTopWidth,\n      borderRightWidth = style.borderRightWidth,\n      borderBottomWidth = style.borderBottomWidth; // Clip outer right border edge\n\n  ctx.moveTo(left + width, top + rtr);\n  ctx.lineTo(left + width, top + height - rbr); // Ellipse coefficients outer bottom right cap\n\n  var c0 = rbr * (1.0 - KAPPA); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + width, top + height - c0, left + width - c0, top + height, left + width - rbr, top + height); // Move left in case the margin exceedes the radius\n\n  var topBottomXCoord = left + width - Math.max(borderRightWidth, rbr);\n  ctx.lineTo(topBottomXCoord, top + height); // Clip inner bottom right cap\n\n  ctx.lineTo(topBottomXCoord, top + height - borderBottomWidth); // Ellipse coefficients inner bottom right cap\n\n  var innerBottomRightRadiusX = Math.max(rbr - borderRightWidth, 0);\n  var innerBottomRightRadiusY = Math.max(rbr - borderBottomWidth, 0);\n  var c1 = innerBottomRightRadiusX * (1.0 - KAPPA);\n  var c2 = innerBottomRightRadiusY * (1.0 - KAPPA); // Clip inner top right cap\n\n  ctx.bezierCurveTo(left + width - borderRightWidth - c1, top + height - borderBottomWidth, left + width - borderRightWidth, top + height - borderBottomWidth - c2, left + width - borderRightWidth, top + height - Math.max(rbr, borderBottomWidth)); // Clip inner right border edge\n\n  ctx.lineTo(left + width - borderRightWidth, top + Math.max(rtr, borderTopWidth)); // Ellipse coefficients inner top right cap\n\n  var innerTopRightRadiusX = Math.max(rtr - borderRightWidth, 0);\n  var innerTopRightRadiusY = Math.max(rtr - borderTopWidth, 0);\n  var c3 = innerTopRightRadiusX * (1.0 - KAPPA);\n  var c4 = innerTopRightRadiusY * (1.0 - KAPPA);\n  var topRightXCoord = left + width - Math.max(rtr, borderRightWidth); // Clip inner top left cap\n\n  ctx.bezierCurveTo(left + width - borderRightWidth, top + borderTopWidth + c4, left + width - borderRightWidth - c3, top + borderTopWidth, topRightXCoord, top + borderTopWidth);\n  ctx.lineTo(topRightXCoord, top); // Move right in case the margin exceedes the radius\n\n  ctx.lineTo(left + width - rtr, top); // Ellipse coefficients outer top right cap\n\n  var c5 = rtr * (1.0 - KAPPA); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + width - c5, top, left + width, top + c5, left + width, top + rtr);\n  ctx.closePath();\n  ctx.clip(); // Clip border right cap joins\n\n  if (borderTopWidth) {\n    var trSlope = -borderTopWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, trSlope * (-width / 2) + top);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderBottomWidth) {\n    var brSlope = borderBottomWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, brSlope * (-width / 2) + top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left + width, top);\n    ctx.lineTo(left, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nvar fillBorderRight = function fillBorderRight(ctx, layout, style, rtr, rbr) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderRightColor = style.borderRightColor,\n      borderRightStyle = style.borderRightStyle,\n      borderRightWidth = style.borderRightWidth,\n      borderTopWidth = style.borderTopWidth,\n      borderBottomWidth = style.borderBottomWidth;\n  var c0 = rbr * (1.0 - KAPPA);\n  var c1 = rtr * (1.0 - KAPPA);\n  ctx.moveTo(left + width - rtr, top);\n  ctx.bezierCurveTo(left + width - c1, top, left + width, top + c1, left + width, top + rtr);\n  ctx.lineTo(left + width, top + height - rbr);\n  ctx.bezierCurveTo(left + width, top + height - c0, left + width - c0, top + height, left + width - rbr, top + height);\n  ctx.strokeColor(borderRightColor);\n  ctx.lineWidth(Math.max(borderRightWidth, borderTopWidth, borderBottomWidth) * 2);\n\n  if (borderRightStyle === 'dashed') {\n    ctx.dash(borderRightWidth * 2, {\n      space: borderRightWidth * 1.2\n    });\n  } else if (borderRightStyle === 'dotted') {\n    ctx.dash(borderRightWidth, {\n      space: borderRightWidth * 1.2\n    });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nvar clipBorderBottom = function clipBorderBottom(ctx, layout, style, rbl, rbr) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderBottomWidth = style.borderBottomWidth,\n      borderRightWidth = style.borderRightWidth,\n      borderLeftWidth = style.borderLeftWidth; // Clip outer top border edge\n\n  ctx.moveTo(left + width - rbr, top + height);\n  ctx.lineTo(left + rbl, top + height); // Ellipse coefficients outer top right cap\n\n  var c0 = rbl * (1.0 - KAPPA); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + c0, top + height, left, top + height - c0, left, top + height - rbl); // Move up in case the margin exceedes the radius\n\n  var bottomLeftYCoord = top + height - Math.max(borderBottomWidth, rbl);\n  ctx.lineTo(left, bottomLeftYCoord); // Clip inner bottom left cap\n\n  ctx.lineTo(left + borderLeftWidth, bottomLeftYCoord); // Ellipse coefficients inner top right cap\n\n  var innerBottomLeftRadiusX = Math.max(rbl - borderLeftWidth, 0);\n  var innerBottomLeftRadiusY = Math.max(rbl - borderBottomWidth, 0);\n  var c1 = innerBottomLeftRadiusX * (1.0 - KAPPA);\n  var c2 = innerBottomLeftRadiusY * (1.0 - KAPPA); // Clip inner bottom left cap\n\n  ctx.bezierCurveTo(left + borderLeftWidth, top + height - borderBottomWidth - c2, left + borderLeftWidth + c1, top + height - borderBottomWidth, left + borderLeftWidth + innerBottomLeftRadiusX, top + height - borderBottomWidth); // Clip inner bottom border edge\n\n  ctx.lineTo(left + width - Math.max(rbr, borderRightWidth), top + height - borderBottomWidth); // Ellipse coefficients inner top left cap\n\n  var innerBottomRightRadiusX = Math.max(rbr - borderRightWidth, 0);\n  var innerBottomRightRadiusY = Math.max(rbr - borderBottomWidth, 0);\n  var c3 = innerBottomRightRadiusX * (1.0 - KAPPA);\n  var c4 = innerBottomRightRadiusY * (1.0 - KAPPA);\n  var bottomRightYCoord = top + height - Math.max(borderBottomWidth, rbr); // Clip inner top left cap\n\n  ctx.bezierCurveTo(left + width - borderRightWidth - c3, top + height - borderBottomWidth, left + width - borderRightWidth, top + height - borderBottomWidth - c4, left + width - borderRightWidth, bottomRightYCoord);\n  ctx.lineTo(left + width, bottomRightYCoord); // Move down in case the margin exceedes the radius\n\n  ctx.lineTo(left + width, top + height - rbr); // Ellipse coefficients outer top left cap\n\n  var c5 = rbr * (1.0 - KAPPA); // Clip outer top left cap\n\n  ctx.bezierCurveTo(left + width, top + height - c5, left + width - c5, top + height, left + width - rbr, top + height);\n  ctx.closePath();\n  ctx.clip(); // Clip border bottom cap joins\n\n  if (borderRightWidth) {\n    var brSlope = borderBottomWidth / borderRightWidth;\n    ctx.moveTo(left + width / 2, brSlope * (-width / 2) + top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderLeftWidth) {\n    var trSlope = -borderBottomWidth / borderLeftWidth;\n    ctx.moveTo(left + width / 2, trSlope * (width / 2) + top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.lineTo(left + width, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nvar fillBorderBottom = function fillBorderBottom(ctx, layout, style, rbl, rbr) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderBottomColor = style.borderBottomColor,\n      borderBottomStyle = style.borderBottomStyle,\n      borderBottomWidth = style.borderBottomWidth,\n      borderRightWidth = style.borderRightWidth,\n      borderLeftWidth = style.borderLeftWidth;\n  var c0 = rbl * (1.0 - KAPPA);\n  var c1 = rbr * (1.0 - KAPPA);\n  ctx.moveTo(left + width, top + height - rbr);\n  ctx.bezierCurveTo(left + width, top + height - c1, left + width - c1, top + height, left + width - rbr, top + height);\n  ctx.lineTo(left + rbl, top + height);\n  ctx.bezierCurveTo(left + c0, top + height, left, top + height - c0, left, top + height - rbl);\n  ctx.strokeColor(borderBottomColor);\n  ctx.lineWidth(Math.max(borderBottomWidth, borderRightWidth, borderLeftWidth) * 2);\n\n  if (borderBottomStyle === 'dashed') {\n    ctx.dash(borderBottomWidth * 2, {\n      space: borderBottomWidth * 1.2\n    });\n  } else if (borderBottomStyle === 'dotted') {\n    ctx.dash(borderBottomWidth, {\n      space: borderBottomWidth * 1.2\n    });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nvar clipBorderLeft = function clipBorderLeft(ctx, layout, style, rbl, rtl) {\n  var top = layout.top,\n      left = layout.left,\n      width = layout.width,\n      height = layout.height;\n  var borderTopWidth = style.borderTopWidth,\n      borderLeftWidth = style.borderLeftWidth,\n      borderBottomWidth = style.borderBottomWidth; // Clip outer left border edge\n\n  ctx.moveTo(left, top + height - rbl);\n  ctx.lineTo(left, top + rtl); // Ellipse coefficients outer top left cap\n\n  var c0 = rtl * (1.0 - KAPPA); // Clip outer top left cap\n\n  ctx.bezierCurveTo(left, top + c0, left + c0, top, left + rtl, top); // Move right in case the margin exceedes the radius\n\n  var topLeftCoordX = left + Math.max(borderLeftWidth, rtl);\n  ctx.lineTo(topLeftCoordX, top); // Clip inner top left cap\n\n  ctx.lineTo(topLeftCoordX, top + borderTopWidth); // Ellipse coefficients inner top left cap\n\n  var innerTopLeftRadiusX = Math.max(rtl - borderLeftWidth, 0);\n  var innerTopLeftRadiusY = Math.max(rtl - borderTopWidth, 0);\n  var c1 = innerTopLeftRadiusX * (1.0 - KAPPA);\n  var c2 = innerTopLeftRadiusY * (1.0 - KAPPA); // Clip inner top right cap\n\n  ctx.bezierCurveTo(left + borderLeftWidth + c1, top + borderTopWidth, left + borderLeftWidth, top + borderTopWidth + c2, left + borderLeftWidth, top + Math.max(rtl, borderTopWidth)); // Clip inner left border edge\n\n  ctx.lineTo(left + borderLeftWidth, top + height - Math.max(rbl, borderBottomWidth)); // Ellipse coefficients inner bottom left cap\n\n  var innerBottomLeftRadiusX = Math.max(rbl - borderLeftWidth, 0);\n  var innerBottomLeftRadiusY = Math.max(rbl - borderBottomWidth, 0);\n  var c3 = innerBottomLeftRadiusX * (1.0 - KAPPA);\n  var c4 = innerBottomLeftRadiusY * (1.0 - KAPPA);\n  var bottomLeftXCoord = left + Math.max(rbl, borderLeftWidth); // Clip inner top left cap\n\n  ctx.bezierCurveTo(left + borderLeftWidth, top + height - borderBottomWidth - c4, left + borderLeftWidth + c3, top + height - borderBottomWidth, bottomLeftXCoord, top + height - borderBottomWidth);\n  ctx.lineTo(bottomLeftXCoord, top + height); // Move left in case the margin exceedes the radius\n\n  ctx.lineTo(left + rbl, top + height); // Ellipse coefficients outer top right cap\n\n  var c5 = rbl * (1.0 - KAPPA); // Clip outer top right cap\n\n  ctx.bezierCurveTo(left + c5, top + height, left, top + height - c5, left, top + height - rbl);\n  ctx.closePath();\n  ctx.clip(); // Clip border right cap joins\n\n  if (borderBottomWidth) {\n    var trSlope = -borderBottomWidth / borderLeftWidth;\n    ctx.moveTo(left + width / 2, trSlope * (width / 2) + top + height);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left + width, top);\n    ctx.closePath();\n    ctx.clip();\n  }\n\n  if (borderBottomWidth) {\n    var _trSlope2 = -borderTopWidth / borderLeftWidth;\n\n    ctx.moveTo(left + width / 2, _trSlope2 * (-width / 2) + top);\n    ctx.lineTo(left, top);\n    ctx.lineTo(left, top + height);\n    ctx.lineTo(left + width, top + height);\n    ctx.closePath();\n    ctx.clip();\n  }\n};\n\nvar fillBorderLeft = function fillBorderLeft(ctx, layout, style, rbl, rtl) {\n  var top = layout.top,\n      left = layout.left,\n      height = layout.height;\n  var borderLeftColor = style.borderLeftColor,\n      borderLeftStyle = style.borderLeftStyle,\n      borderLeftWidth = style.borderLeftWidth,\n      borderTopWidth = style.borderTopWidth,\n      borderBottomWidth = style.borderBottomWidth;\n  var c0 = rbl * (1.0 - KAPPA);\n  var c1 = rtl * (1.0 - KAPPA);\n  ctx.moveTo(left + rbl, top + height);\n  ctx.bezierCurveTo(left + c0, top + height, left, top + height - c0, left, top + height - rbl);\n  ctx.lineTo(left, top + rtl);\n  ctx.bezierCurveTo(left, top + c1, left + c1, top, left + rtl, top);\n  ctx.strokeColor(borderLeftColor);\n  ctx.lineWidth(Math.max(borderLeftWidth, borderTopWidth, borderBottomWidth) * 2);\n\n  if (borderLeftStyle === 'dashed') {\n    ctx.dash(borderLeftWidth * 2, {\n      space: borderLeftWidth * 1.2\n    });\n  } else if (borderLeftStyle === 'dotted') {\n    ctx.dash(borderLeftWidth, {\n      space: borderLeftWidth * 1.2\n    });\n  }\n\n  ctx.stroke();\n  ctx.undash();\n};\n\nvar Borders = {\n  drawBorders: drawBorders\n}; // This constant is used to approximate a symmetrical arc using a cubic\n// Bezier curve.\n\nvar KAPPA$1 = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\nvar Clipping = {\n  clip: function clip() {\n    var _this$getAbsoluteLayo = this.getAbsoluteLayout(),\n        top = _this$getAbsoluteLayo.top,\n        left = _this$getAbsoluteLayo.left,\n        width = _this$getAbsoluteLayo.width,\n        height = _this$getAbsoluteLayo.height;\n\n    var _this$style = this.style,\n        _this$style$borderTop = _this$style.borderTopLeftRadius,\n        borderTopLeftRadius = _this$style$borderTop === void 0 ? 0 : _this$style$borderTop,\n        _this$style$borderTop2 = _this$style.borderTopRightRadius,\n        borderTopRightRadius = _this$style$borderTop2 === void 0 ? 0 : _this$style$borderTop2,\n        _this$style$borderBot = _this$style.borderBottomRightRadius,\n        borderBottomRightRadius = _this$style$borderBot === void 0 ? 0 : _this$style$borderBot,\n        _this$style$borderBot2 = _this$style.borderBottomLeftRadius,\n        borderBottomLeftRadius = _this$style$borderBot2 === void 0 ? 0 : _this$style$borderBot2; // Border top\n\n    var rtr = Math.min(borderTopRightRadius, 0.5 * width, 0.5 * height);\n    var ctr = rtr * (1.0 - KAPPA$1);\n    this.root.instance.moveTo(left + rtr, top);\n    this.root.instance.lineTo(left + width - rtr, top);\n    this.root.instance.bezierCurveTo(left + width - ctr, top, left + width, top + ctr, left + width, top + rtr); // Border right\n\n    var rbr = Math.min(borderBottomRightRadius, 0.5 * width, 0.5 * height);\n    var cbr = rbr * (1.0 - KAPPA$1);\n    this.root.instance.lineTo(left + width, top + height - rbr);\n    this.root.instance.bezierCurveTo(left + width, top + height - cbr, left + width - cbr, top + height, left + width - rbr, top + height); // Border bottom\n\n    var rbl = Math.min(borderBottomLeftRadius, 0.5 * width, 0.5 * height);\n    var cbl = rbl * (1.0 - KAPPA$1);\n    this.root.instance.lineTo(left + rbl, top + height);\n    this.root.instance.bezierCurveTo(left + cbl, top + height, left, top + height - cbl, left, top + height - rbl); // Border left\n\n    var rtl = Math.min(borderTopLeftRadius, 0.5 * width, 0.5 * height);\n    var ctl = rtl * (1.0 - KAPPA$1);\n    this.root.instance.lineTo(left, top + rtl);\n    this.root.instance.bezierCurveTo(left, top + ctl, left + ctl, top, left + rtl, top);\n    this.root.instance.closePath();\n    this.root.instance.clip();\n  }\n};\n\nvar getRotation = function getRotation(transform) {\n  var match = /rotate\\((-?\\d+.?\\d+)(.+)\\)/g.exec(transform);\n\n  if (match && match[1] && match[2]) {\n    var value = match[1];\n    return match[2] === 'rad' ? value * 180 / Math.PI : value;\n  }\n\n  return 0;\n};\n\nvar getTranslateX = function getTranslateX(transform) {\n  var matchX = /translateX\\((-?\\d+\\.?d*)\\)/g.exec(transform);\n  var matchGeneric = /translate\\((-?\\d+\\.?d*).*,\\s*(-?\\d+\\.?d*).*\\)/g.exec(transform);\n  if (matchX && matchX[1]) return matchX[1];\n  if (matchGeneric && matchGeneric[1]) return matchGeneric[1];\n  return 0;\n};\n\nvar getTranslateY = function getTranslateY(transform) {\n  var matchY = /translateY\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  var matchGeneric = /translate\\((-?\\d+\\.?\\d*).*,\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(transform);\n  if (matchY && matchY[1]) return matchY[1];\n  if (matchGeneric && matchGeneric[2]) return matchGeneric[2];\n  return 0;\n};\n\nvar getScaleX = function getScaleX(transform) {\n  var matchX = /scaleX\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  var matchGeneric = /scale\\((-?\\d+\\.?\\d*).*,\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(transform);\n  if (matchX && matchX[1]) return matchX[1];\n  if (matchGeneric && matchGeneric[1]) return matchGeneric[1];\n  return 1;\n};\n\nvar getScaleY = function getScaleY(transform) {\n  var matchY = /scaleY\\((-?\\d+\\.?\\d*)\\)/g.exec(transform);\n  var matchGeneric = /scale\\((-?\\d+\\.?\\d*).*,\\s*(-?\\d+\\.?\\d*).*\\)/g.exec(transform);\n  if (matchY && matchY[1]) return matchY[1];\n  if (matchGeneric && matchGeneric[2]) return matchGeneric[2];\n  return 1;\n};\n\nvar getMatrix = function getMatrix(transform) {\n  var match = /matrix\\(([^,]+),([^,]+),([^,]+),([^,]+),([^,]+),([^,]+)\\)/g.exec(transform);\n  if (match) return match.slice(1, 7);\n  return null;\n};\n\nvar applySingleTransformation = function applySingleTransformation(element, transform, origin) {\n  if (/rotate/g.test(transform)) {\n    element.root.instance.rotate(getRotation(transform), {\n      origin: origin\n    });\n  } else if (/scaleX/g.test(transform)) {\n    element.root.instance.scale(getScaleX(transform), 1, {\n      origin: origin\n    });\n  } else if (/scaleY/g.test(transform)) {\n    element.root.instance.scale(1, getScaleY(transform), {\n      origin: origin\n    });\n  } else if (/scale/g.test(transform)) {\n    element.root.instance.scale(getScaleX(transform), getScaleY(transform), {\n      origin: origin\n    });\n  } else if (/translateX/g.test(transform)) {\n    element.root.instance.translate(getTranslateX(transform), 1, {\n      origin: origin\n    });\n  } else if (/translateY/g.test(transform)) {\n    element.root.instance.translate(1, getTranslateY(transform), {\n      origin: origin\n    });\n  } else if (/translate/g.test(transform)) {\n    element.root.instance.translate(getTranslateX(transform), getTranslateY(transform), {\n      origin: origin\n    });\n  } else if (/matrix/g.test(transform)) {\n    var _element$root$instanc;\n\n    (_element$root$instanc = element.root.instance).transform.apply(_element$root$instanc, getMatrix(transform));\n  }\n};\n\nvar Transformations = {\n  applyTransformations: function applyTransformations() {\n    var match;\n    var re = /[a-zA-Z]+\\([^)]+\\)/g;\n    var origin = this.origin;\n    var transform = this.style && this.style.transform || '';\n\n    while ((match = re.exec(transform)) != null) {\n      applySingleTransformation(this, match[0], origin);\n    }\n  }\n};\n\nvar merge = function merge(a, b) {\n  return isNil(b) ? a : b;\n};\n\nvar deepMerge = function deepMerge(objs) {\n  return objs.reduce(function (acc, obj) {\n    return mergeDeepWith(merge, acc, obj);\n  }, {});\n};\n\nvar isFunction = compose(equals('Function'), type);\nvar inheritedProperties = ['color', 'fontFamily', 'fontSize', 'fontStyle', 'fontWeight', 'letterSpacing', 'opacity', 'textDecoration', 'lineHeight', 'textAlign', 'textTransform', 'visibility', 'wordSpacing'];\n\nvar Base = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Base, _Node);\n\n  function Base(root, props) {\n    var _this;\n\n    _this = _Node.call(this) || this;\n    _this.root = root;\n    _this.style = {};\n    _this.props = deepMerge([_this.constructor.defaultProps, Base.defaultProps, props]);\n    warning(!_this.props.styles, '\"styles\" prop passed instead of \"style\" prop');\n    return _this;\n  }\n\n  var _proto = Base.prototype;\n\n  _proto.appendChild = function appendChild(child) {\n    _Node.prototype.appendChild.call(this, child);\n\n    this.root.markDirty();\n  };\n\n  _proto.appendChildBefore = function appendChildBefore(child, beforeChild) {\n    _Node.prototype.appendChildBefore.call(this, child, beforeChild);\n\n    this.root.markDirty();\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    _Node.prototype.removeChild.call(this, child);\n\n    this.root.markDirty();\n  };\n\n  _proto.update = function update(newProps) {\n    this.props = deepMerge([this.constructor.defaultProps, Base.defaultProps, newProps]);\n    this.root.markDirty();\n  };\n\n  _proto.applyProps = function applyProps() {\n    var _this2 = this;\n\n    this.style = this.resolveStyles();\n    toPairsIn(this.style).map(function (_ref) {\n      var attribute = _ref[0],\n          value = _ref[1];\n\n      _this2.applyStyle(attribute, value);\n    });\n    this.children.forEach(function (child) {\n      if (child.applyProps) child.applyProps();\n    });\n  };\n\n  _proto.resolveStyles = function resolveStyles() {\n    var _this$page = this.page,\n        size = _this$page.size,\n        orientation = _this$page.orientation,\n        isAutoHeight = _this$page.isAutoHeight;\n    var container = {\n      orientation: orientation,\n      isAutoHeight: isAutoHeight,\n      width: size.width,\n      height: size.height\n    };\n    var ownStyles = StyleSheet.resolve(this.props.style, container);\n    var inheritedStyles = this.parent ? pick(inheritedProperties, this.parent.style) : {};\n    return _extends({}, inheritedStyles, ownStyles);\n  };\n\n  _proto.applyStyle = function applyStyle(attribute, value) {\n    if (value === undefined) return;\n    var setter = \"set\" + upperFirst(attribute);\n\n    switch (attribute) {\n      case 'marginTop':\n      case 'marginRight':\n      case 'marginBottom':\n      case 'marginLeft':\n      case 'paddingTop':\n      case 'paddingRight':\n      case 'paddingBottom':\n      case 'paddingLeft':\n      case 'borderTopWidth':\n      case 'borderRightWidth':\n      case 'borderBottomWidth':\n      case 'borderLeftWidth':\n      case 'position':\n      case 'top':\n      case 'right':\n      case 'bottom':\n      case 'left':\n      case 'width':\n      case 'height':\n      case 'minHeight':\n      case 'maxHeight':\n      case 'minWidth':\n      case 'maxWidth':\n        this[attribute] = value;\n        break;\n\n      default:\n        if (isFunction(this.layout[setter])) {\n          this.layout[setter](value);\n        }\n\n    }\n  };\n\n  _proto.getLayoutData = function getLayoutData() {\n    var layout = this.getAbsoluteLayout();\n    return {\n      type: this.name,\n      top: layout.top,\n      left: layout.left,\n      width: layout.width,\n      style: this.style,\n      height: layout.height,\n      children: this.children.map(function (c) {\n        return c.getLayoutData();\n      })\n    };\n  };\n\n  _proto.drawBackgroundColor = function drawBackgroundColor() {\n    var _this$style = this.style,\n        backgroundColor = _this$style.backgroundColor,\n        _this$style$opacity = _this$style.opacity,\n        opacity = _this$style$opacity === void 0 ? 1 : _this$style$opacity;\n\n    var _this$getAbsoluteLayo = this.getAbsoluteLayout(),\n        left = _this$getAbsoluteLayo.left,\n        top = _this$getAbsoluteLayo.top,\n        width = _this$getAbsoluteLayo.width,\n        height = _this$getAbsoluteLayo.height;\n\n    if (backgroundColor) {\n      this.root.instance.save();\n      this.clip();\n      this.root.instance.fillOpacity(opacity).fillColor(backgroundColor).rect(left, top, width, height).fill().restore();\n    }\n  };\n\n  _proto.clone = function clone() {\n    var clone = new this.constructor(this.root, this.props);\n    clone.copyStyle(this);\n    clone.style = this.style;\n    return clone;\n  };\n\n  _proto.onNodeSplit = function onNodeSplit(height, clone) {\n    this.calculateLayout();\n    clone.marginTop = 0;\n    clone.paddingTop = 0; // If a height was given to the element, we need to substract the remaining wrapping height\n    // If not, we just let Yoga calculate the appropiate height when layout get's calculated.\n\n    if (clone.style.height) {\n      clone.height = this.height - height;\n    }\n\n    this.height = height;\n    this.marginBottom = 0;\n    this.paddingBottom = 0;\n  };\n\n  _proto.renderChildren = /*#__PURE__*/function () {\n    var _renderChildren = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var i;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              i = 0;\n\n            case 1:\n              if (!(i < this.children.length)) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 4;\n              return this.children[i].render();\n\n            case 4:\n              i++;\n              _context.next = 1;\n              break;\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function renderChildren() {\n      return _renderChildren.apply(this, arguments);\n    }\n\n    return renderChildren;\n  }();\n\n  _createClass(Base, [{\n    key: \"page\",\n    get: function get() {\n      return this.parent.page;\n    }\n  }, {\n    key: \"wrap\",\n    get: function get() {\n      return this.props.wrap;\n    }\n  }, {\n    key: \"break\",\n    get: function get() {\n      return this.props.break;\n    },\n    set: function set(value) {\n      this.props.break = value;\n    }\n  }, {\n    key: \"fixed\",\n    get: function get() {\n      return this.props.fixed;\n    }\n  }, {\n    key: \"minPresenceAhead\",\n    get: function get() {\n      return this.props.minPresenceAhead;\n    }\n  }, {\n    key: \"absolute\",\n    get: function get() {\n      return this.props.style.position === 'absolute';\n    }\n  }, {\n    key: \"origin\",\n    get: function get() {\n      var _this$style2 = this.style,\n          transformOriginX = _this$style2.transformOriginX,\n          transformOriginY = _this$style2.transformOriginY;\n\n      var _this$getAbsoluteLayo2 = this.getAbsoluteLayout(),\n          left = _this$getAbsoluteLayo2.left,\n          top = _this$getAbsoluteLayo2.top,\n          width = _this$getAbsoluteLayo2.width,\n          height = _this$getAbsoluteLayo2.height;\n\n      var percentX = matchPercent(transformOriginX);\n      var percentY = matchPercent(transformOriginY);\n      var offsetX = percentX ? width * percentX.percent : transformOriginX;\n      var offsetY = percentY ? height * percentY.percent : transformOriginY;\n      return [left + offsetX, top + offsetY];\n    }\n  }]);\n\n  return Base;\n}(Node);\n\nBase.defaultProps = {\n  style: {\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    borderBottomLeftRadius: 0,\n    transformOriginX: '50%',\n    transformOriginY: '50%'\n  },\n  minPresenceAhead: 0\n};\nObject.assign(Base.prototype, Debug);\nObject.assign(Base.prototype, Borders);\nObject.assign(Base.prototype, Clipping);\nObject.assign(Base.prototype, Transformations);\nvar RULER_WIDTH = 13;\nvar RULER_COLOR = 'white';\nvar RULER_FONT_SIZE = 5;\nvar DEFAULT_RULER_STEPS = 50;\nvar LINE_WIDTH = 0.5;\nvar LINE_COLOR = 'gray';\nvar GRID_COLOR = '#ababab';\n\nvar range = function range(max, steps) {\n  return Array.from({\n    length: Math.ceil(max / steps)\n  }, function (_, i) {\n    return i * steps;\n  });\n};\n\nvar matchPercentage = function matchPercentage(value) {\n  var match = matchPercent(value);\n  return match ? 100 / match.value : null;\n};\n\nvar Ruler = {\n  getRulerWidth: function getRulerWidth() {\n    return RULER_WIDTH;\n  },\n  hasHorizontalRuler: function hasHorizontalRuler() {\n    return this.props.ruler || this.props.horizontalRuler;\n  },\n  hasVerticalRuler: function hasVerticalRuler() {\n    return this.props.ruler || this.props.verticalRuler;\n  },\n  getHorizontalSteps: function getHorizontalSteps() {\n    var value = this.props.horizontalRulerSteps || this.props.rulerSteps || DEFAULT_RULER_STEPS;\n\n    if (typeof value === 'string') {\n      var percentage = matchPercentage(value);\n\n      if (percentage) {\n        var width = this.width - (this.hasVerticalRuler() ? RULER_WIDTH : 0);\n        return width / percentage;\n      }\n\n      throw new Error('Page: Invalid horizontal steps value');\n    }\n\n    return value;\n  },\n  getVerticalSteps: function getVerticalSteps() {\n    var value = this.props.verticalRulerSteps || this.props.rulerSteps || DEFAULT_RULER_STEPS;\n\n    if (typeof value === 'string') {\n      var percentage = matchPercentage(value);\n\n      if (percentage) {\n        var height = this.height - (this.hasHorizontalRuler() ? RULER_WIDTH : 0);\n        return height / percentage;\n      }\n\n      throw new Error('Page: Invalid horizontal steps value');\n    }\n\n    return value;\n  },\n  renderRuler: function renderRuler() {\n    var hasHorizontalRuler = this.hasHorizontalRuler();\n    var hasVerticalRuler = this.hasVerticalRuler();\n\n    if (hasHorizontalRuler || hasVerticalRuler) {\n      this.root.instance.save().lineWidth(LINE_WIDTH).fontSize(RULER_FONT_SIZE).opacity(1);\n      if (hasHorizontalRuler) this.drawHorizontalRuler();\n      if (hasVerticalRuler) this.drawVerticalRuler();\n\n      if (hasHorizontalRuler && hasVerticalRuler) {\n        this.root.instance.rect(0, 0, RULER_WIDTH - LINE_WIDTH, RULER_WIDTH - LINE_WIDTH).fill(RULER_COLOR);\n      }\n\n      this.root.instance.restore();\n    }\n  },\n  drawHorizontalRuler: function drawHorizontalRuler() {\n    var _this = this;\n\n    var offset = this.hasVerticalRuler() ? RULER_WIDTH : 0;\n    this.root.instance.rect(offset, 0, this.width, RULER_WIDTH).fill(RULER_COLOR).moveTo(this.hasVerticalRuler() ? RULER_WIDTH : 0, RULER_WIDTH).lineTo(this.width, RULER_WIDTH).stroke(LINE_COLOR);\n    var hRange = range(this.width, this.getHorizontalSteps());\n    hRange.map(function (step) {\n      _this.root.instance.moveTo(offset + step, 0).lineTo(offset + step, RULER_WIDTH).stroke(LINE_COLOR).fillColor('black').text(\"\" + Math.round(step), offset + step + 1, 1);\n    });\n    hRange.map(function (step) {\n      if (step !== 0) {\n        _this.root.instance.moveTo(offset + step, RULER_WIDTH).lineTo(offset + step, _this.height).stroke(GRID_COLOR);\n      }\n    });\n  },\n  drawVerticalRuler: function drawVerticalRuler() {\n    var _this2 = this;\n\n    var offset = this.hasHorizontalRuler() ? RULER_WIDTH : 0;\n    this.root.instance.rect(0, offset, RULER_WIDTH, this.height).fill(RULER_COLOR).moveTo(RULER_WIDTH, this.hasHorizontalRuler() ? RULER_WIDTH : 0).lineTo(RULER_WIDTH, this.height).stroke(LINE_COLOR);\n    var vRange = range(this.height, this.getVerticalSteps());\n    vRange.map(function (step) {\n      _this2.root.instance.moveTo(0, offset + step).lineTo(RULER_WIDTH, offset + step).stroke(LINE_COLOR).fillColor('black').text(\"\" + Math.round(step), 1, offset + step + 1);\n    });\n    vRange.map(function (step) {\n      if (step !== 0) {\n        _this2.root.instance.moveTo(RULER_WIDTH, offset + step).lineTo(_this2.width, offset + step).stroke(GRID_COLOR);\n      }\n    });\n  }\n};\n\nvar TextInstance = /*#__PURE__*/function () {\n  function TextInstance(root, value) {\n    this.root = root;\n    this.value = value;\n    this.parent = null;\n    this.props = {};\n  }\n\n  var _proto = TextInstance.prototype;\n\n  _proto.getLayoutData = function getLayoutData() {\n    return this.value;\n  };\n\n  _proto.remove = function remove() {\n    this.parent.removeChild(this);\n  };\n\n  _proto.clone = function clone() {\n    return new this.constructor(this.root, this.value);\n  };\n\n  _proto.cleanup = function cleanup() {};\n\n  _proto.update = function update(value) {\n    this.value = value;\n    this.parent.computed = false;\n    this.parent.container = null;\n    this.root.markDirty();\n  };\n\n  _createClass(TextInstance, [{\n    key: \"name\",\n    get: function get() {\n      return 'TextInstance';\n    }\n  }]);\n\n  return TextInstance;\n}();\n\nvar PAGE_SIZES = {\n  '4A0': [4767.87, 6740.79],\n  '2A0': [3370.39, 4767.87],\n  A0: [2383.94, 3370.39],\n  A1: [1683.78, 2383.94],\n  A2: [1190.55, 1683.78],\n  A3: [841.89, 1190.55],\n  A4: [595.28, 841.89],\n  A5: [419.53, 595.28],\n  A6: [297.64, 419.53],\n  A7: [209.76, 297.64],\n  A8: [147.4, 209.76],\n  A9: [104.88, 147.4],\n  A10: [73.7, 104.88],\n  B0: [2834.65, 4008.19],\n  B1: [2004.09, 2834.65],\n  B2: [1417.32, 2004.09],\n  B3: [1000.63, 1417.32],\n  B4: [708.66, 1000.63],\n  B5: [498.9, 708.66],\n  B6: [354.33, 498.9],\n  B7: [249.45, 354.33],\n  B8: [175.75, 249.45],\n  B9: [124.72, 175.75],\n  B10: [87.87, 124.72],\n  C0: [2599.37, 3676.54],\n  C1: [1836.85, 2599.37],\n  C2: [1298.27, 1836.85],\n  C3: [918.43, 1298.27],\n  C4: [649.13, 918.43],\n  C5: [459.21, 649.13],\n  C6: [323.15, 459.21],\n  C7: [229.61, 323.15],\n  C8: [161.57, 229.61],\n  C9: [113.39, 161.57],\n  C10: [79.37, 113.39],\n  RA0: [2437.8, 3458.27],\n  RA1: [1729.13, 2437.8],\n  RA2: [1218.9, 1729.13],\n  RA3: [864.57, 1218.9],\n  RA4: [609.45, 864.57],\n  SRA0: [2551.18, 3628.35],\n  SRA1: [1814.17, 2551.18],\n  SRA2: [1275.59, 1814.17],\n  SRA3: [907.09, 1275.59],\n  SRA4: [637.8, 907.09],\n  EXECUTIVE: [521.86, 756.0],\n  FOLIO: [612.0, 936.0],\n  LEGAL: [612.0, 1008.0],\n  LETTER: [612.0, 792.0],\n  TABLOID: [792.0, 1224.0],\n  ID1: [153, 243]\n}; // Return page size in an object { width, height } given the passed size and orientation\n// Accepts page type string, number, array or object as parameter\n\nvar getPageSize = function getPageSize(size, orientation) {\n  if (orientation === void 0) {\n    orientation = 'portrait';\n  }\n\n  var result;\n\n  if (typeof size === 'string') {\n    result = PAGE_SIZES[size.toUpperCase()];\n  } else if (Array.isArray(size)) {\n    result = size;\n  } else if (typeof size === 'number') {\n    result = [size];\n  } else if (typeof size === 'object' && size.width) {\n    result = [size.width, size.height];\n  } else {\n    throw new Error(\"Invalid Page size: \" + size);\n  }\n\n  return orientation === 'portrait' ? {\n    width: result[0],\n    height: result[1]\n  } : {\n    width: result[1],\n    height: result[0]\n  };\n};\n\nvar PROTOCOL_REGEXP = /^([a-z]+\\:(\\/\\/)?)/i;\nvar DEST_REGEXP = /^#.+/;\n\nvar getURL = function getURL(value) {\n  if (!value) return '';\n  if (isSrcId(value)) return value; // don't modify it if it is an id\n\n  if (typeof value === 'string' && !value.match(PROTOCOL_REGEXP)) {\n    return \"http://\" + value;\n  }\n\n  return value;\n};\n\nvar isSrcId = function isSrcId(src) {\n  return src.match(DEST_REGEXP);\n};\n\nvar setLink = function setLink(node) {\n  if (!node.src) {\n    return;\n  }\n\n  var _node$getAbsoluteLayo = node.getAbsoluteLayout(),\n      top = _node$getAbsoluteLayo.top,\n      left = _node$getAbsoluteLayo.left,\n      width = _node$getAbsoluteLayo.width,\n      height = _node$getAbsoluteLayo.height;\n\n  var instanceMethod = isSrcId(node.src) ? 'goTo' : 'link';\n  var nodeSrc = isSrcId(node.src) ? node.src.slice(1) : node.src;\n  node.root.instance[instanceMethod](left, top, width, height, nodeSrc);\n};\n\nvar setDestination = function setDestination(node) {\n  if (!node.props.id) {\n    return;\n  }\n\n  var _node$getAbsoluteLayo2 = node.getAbsoluteLayout(),\n      top = _node$getAbsoluteLayo2.top;\n\n  node.root.instance.addNamedDestination(node.props.id, 'XYZ', null, top, null);\n};\n\nvar Page = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(Page, _Base);\n\n  function Page(root, props) {\n    var _this;\n\n    _this = _Base.call(this, root, props) || this;\n    _this._size = null;\n    return _this;\n  }\n\n  var _proto = Page.prototype;\n\n  _proto.resetMargins = function resetMargins() {\n    if (!!this.marginTop || !!this.marginBottom || !!this.marginLeft || !!this.marginRight) {\n      warning(false, 'Margin values are not allowed on Page element. Use padding instead.');\n      this.marginTop = 0;\n      this.marginBottom = 0;\n      this.marginLeft = 0;\n      this.marginRight = 0;\n    }\n  };\n\n  _proto.applyProps = function applyProps() {\n    _Base.prototype.applyProps.call(this);\n\n    this.top = 0;\n    this.left = 0;\n    this.width = this.size.width;\n    this.resetMargins(); // Add some padding if ruler present, so we can see the whole page inside it\n\n    var rulerWidth = this.getRulerWidth();\n\n    if (this.hasHorizontalRuler()) {\n      this.paddingTop = this.paddingTop + rulerWidth;\n    }\n\n    if (this.hasVerticalRuler()) {\n      this.paddingLeft = this.paddingLeft + rulerWidth;\n    }\n  };\n\n  _proto.setPadding = function setPadding(edge, value) {\n    var dimension = edge === Yoga.EDGE_TOP || edge === Yoga.EDGE_BOTTOM ? this.size.height : this.size.width;\n    var match = matchPercent(value);\n\n    if (match) {\n      this.layout.setPadding(edge, dimension * match.percent);\n    } else {\n      this.layout.setPadding(edge, value);\n    }\n  };\n\n  _proto.addDynamicChild = /*#__PURE__*/function () {\n    var _addDynamicChild = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(parent, elements) {\n      var children, i, child, type, props, instance, _instance;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (elements) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              children = Array.isArray(elements) ? elements : [elements];\n              i = 0;\n\n            case 4:\n              if (!(i < children.length)) {\n                _context.next = 29;\n                break;\n              }\n\n              child = children[i];\n\n              if (child) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"continue\", 26);\n\n            case 8:\n              type = child.type, props = child.props;\n\n              if (!(typeof child === 'string')) {\n                _context.next = 14;\n                break;\n              }\n\n              instance = new TextInstance(this.root, child);\n              parent.appendChild(instance);\n              _context.next = 26;\n              break;\n\n            case 14:\n              if (!(type !== Fragment)) {\n                _context.next = 24;\n                break;\n              }\n\n              _instance = createInstance(child, this.root);\n              _context.next = 18;\n              return _instance.onAppendDynamically();\n\n            case 18:\n              parent.appendChild(_instance);\n\n              _instance.applyProps();\n\n              _context.next = 22;\n              return this.addDynamicChild(_instance, props.children);\n\n            case 22:\n              _context.next = 26;\n              break;\n\n            case 24:\n              _context.next = 26;\n              return this.addDynamicChild(parent, props.children);\n\n            case 26:\n              i++;\n              _context.next = 4;\n              break;\n\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function addDynamicChild(_x, _x2) {\n      return _addDynamicChild.apply(this, arguments);\n    }\n\n    return addDynamicChild;\n  }();\n\n  _proto.renderDynamicNodes = /*#__PURE__*/function () {\n    var _renderDynamicNodes = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(props, cb) {\n      var listToExplore, node, condition, elements;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              listToExplore = this.children.slice(0);\n\n            case 1:\n              if (!(listToExplore.length > 0)) {\n                _context2.next = 14;\n                break;\n              }\n\n              node = listToExplore.shift();\n              condition = cb ? cb(node) : true;\n\n              if (!(condition && node.props.render)) {\n                _context2.next = 11;\n                break;\n              }\n\n              node.removeAllChilds();\n              elements = node.props.render(props);\n              _context2.next = 9;\n              return this.addDynamicChild(node, elements);\n\n            case 9:\n              if (!node.fixed) node.props.render = null;\n              return _context2.abrupt(\"continue\", 1);\n\n            case 11:\n              if (node.children) {\n                listToExplore.push.apply(listToExplore, node.children);\n              }\n\n              _context2.next = 1;\n              break;\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function renderDynamicNodes(_x3, _x4) {\n      return _renderDynamicNodes.apply(this, arguments);\n    }\n\n    return renderDynamicNodes;\n  }();\n\n  _proto.nodeWillWrap = /*#__PURE__*/function () {\n    var _nodeWillWrap = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(props) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.renderDynamicNodes(props);\n\n            case 2:\n              this.calculateLayout();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function nodeWillWrap(_x5) {\n      return _nodeWillWrap.apply(this, arguments);\n    }\n\n    return nodeWillWrap;\n  }();\n\n  _proto.onNodeSplit = function onNodeSplit(height, clone) {\n    clone.marginTop = 0;\n    this.marginBottom = 0;\n    this.calculateLayout();\n  };\n\n  _proto.clone = function clone() {\n    var clone = _Base.prototype.clone.call(this);\n\n    clone._size = this.size;\n    return clone;\n  };\n\n  _proto.update = function update(newProps) {\n    _Base.prototype.update.call(this, newProps);\n\n    this._size = null;\n  };\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var instance, height;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              instance = this.root.instance;\n\n              if (!this.isAutoHeight) {\n                this.height = this.size.height;\n              }\n\n              this.calculateLayout();\n              height = this.isAutoHeight ? this.height : this.size.height;\n              instance.addPage({\n                size: [this.size.width, height],\n                margin: 0\n              });\n              setDestination(this);\n\n              if (this.style.backgroundColor) {\n                instance.fillColor(this.style.backgroundColor).rect(0, 0, this.size.width, height).fill();\n              }\n\n              _context4.next = 9;\n              return this.renderChildren();\n\n            case 9:\n              if (this.props.debug) {\n                this.debug();\n              }\n\n              this.renderRuler();\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(Page, [{\n    key: \"name\",\n    get: function get() {\n      return 'Page';\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.parent;\n    }\n  }, {\n    key: \"page\",\n    get: function get() {\n      return this;\n    }\n  }, {\n    key: \"orientation\",\n    get: function get() {\n      return this.props.orientation;\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      if (this._size) return this._size;\n      this._size = getPageSize(this.props.size, this.orientation); // Adjust size for ruler\n\n      if (this.hasHorizontalRuler()) {\n        this._size.width += this.getRulerWidth();\n      }\n\n      if (this.hasVerticalRuler()) {\n        this._size.height += this.getRulerWidth();\n      }\n\n      return this._size;\n    }\n  }, {\n    key: \"isAutoHeight\",\n    get: function get() {\n      return typeof this.size.height === 'undefined';\n    }\n  }]);\n\n  return Page;\n}(Base);\n\nPage.defaultProps = {\n  size: 'A4',\n  wrap: true,\n  orientation: 'portrait'\n};\nObject.assign(Page.prototype, Ruler);\n\nvar View = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(View, _Base);\n\n  function View() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = View.prototype;\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.root.instance.save();\n              this.applyTransformations();\n              this.drawBackgroundColor();\n              if (this.style.overflow === 'hidden') this.clip();\n              _context.next = 6;\n              return this.renderChildren();\n\n            case 6:\n              this.drawBorders();\n              setDestination(this);\n              if (this.props.debug) this.debug();\n              this.root.instance.restore();\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(View, [{\n    key: \"name\",\n    get: function get() {\n      return 'View';\n    }\n  }]);\n\n  return View;\n}(Base);\n\nView.defaultProps = {\n  wrap: true\n};\n\nvar fetchFont = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(src, options) {\n    var response, buffer;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(src, options);\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return response.buffer ? response.buffer() : response.arrayBuffer();\n\n          case 5:\n            buffer = _context.sent;\n            return _context.abrupt(\"return\", buffer.constructor.name === 'Buffer' ? buffer : Buffer.from(buffer));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchFont(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar isDataUrl = function isDataUrl(dataUrl) {\n  var header = dataUrl.split(',')[0];\n  return header.substring(0, 5) === 'data:' && header.split(';')[1] === 'base64';\n};\n\nvar FontSource = /*#__PURE__*/function () {\n  function FontSource(src, fontFamily, fontStyle, fontWeight, options) {\n    this.src = src;\n    this.fontFamily = fontFamily;\n    this.fontStyle = fontStyle || 'normal';\n    this.fontWeight = processFontWeight(fontWeight) || 400;\n    this.data = null;\n    this.loading = false;\n    this.options = options;\n  }\n\n  var _proto = FontSource.prototype;\n\n  _proto.load = /*#__PURE__*/function () {\n    var _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      var postscriptName, _this$options, headers, body, _this$options$method, method, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.loading = true;\n              postscriptName = this.options.postscriptName;\n\n              if (!isDataUrl(this.src)) {\n                _context2.next = 6;\n                break;\n              }\n\n              this.data = fontkit.create(Buffer.from(this.src.split(',')[1], 'base64'), postscriptName);\n              _context2.next = 17;\n              break;\n\n            case 6:\n              _this$options = this.options, headers = _this$options.headers, body = _this$options.body, _this$options$method = _this$options.method, method = _this$options$method === void 0 ? 'GET' : _this$options$method;\n              _context2.next = 10;\n              return fetchFont(this.src, {\n                method: method,\n                body: body,\n                headers: headers\n              });\n\n            case 10:\n              data = _context2.sent;\n              this.data = fontkit.create(data, postscriptName);\n              _context2.next = 17;\n              break;\n\n            case 14:\n              _context2.next = 16;\n              return new Promise(function (resolve, reject) {\n                return fontkit.open(_this.src, postscriptName, function (err, data) {\n                  return err ? reject(err) : resolve(data);\n                });\n              });\n\n            case 16:\n              this.data = _context2.sent;\n\n            case 17:\n              this.loading = false;\n\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function load() {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }();\n\n  return FontSource;\n}();\n\nvar Font = /*#__PURE__*/function () {\n  Font.create = function create(family) {\n    return new Font(family);\n  };\n\n  function Font(family) {\n    this.family = family;\n    this.sources = [];\n  }\n\n  var _proto2 = Font.prototype;\n\n  _proto2.register = function register(_ref2) {\n    var src = _ref2.src,\n        fontWeight = _ref2.fontWeight,\n        fontStyle = _ref2.fontStyle,\n        options = _objectWithoutPropertiesLoose(_ref2, [\"src\", \"fontWeight\", \"fontStyle\"]);\n\n    this.sources.push(new FontSource(src, this.fontFamily, fontStyle, fontWeight, options));\n  };\n\n  _proto2.resolve = function resolve(descriptor) {\n    var _descriptor$fontWeigh = descriptor.fontWeight,\n        fontWeight = _descriptor$fontWeigh === void 0 ? 400 : _descriptor$fontWeigh,\n        _descriptor$fontStyle = descriptor.fontStyle,\n        fontStyle = _descriptor$fontStyle === void 0 ? 'normal' : _descriptor$fontStyle;\n    var styleSources = this.sources.filter(function (s) {\n      return s.fontStyle === fontStyle;\n    }); // Weight resolution. https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Fallback_weights\n\n    var exactFit = styleSources.find(function (s) {\n      return s.fontWeight === fontWeight;\n    });\n    if (exactFit) return exactFit;\n    var res;\n\n    if (fontWeight >= 400 && fontWeight <= 500) {\n      var leftOffset = styleSources.filter(function (s) {\n        return s.fontWeight <= fontWeight;\n      });\n      var rightOffset = styleSources.filter(function (s) {\n        return s.fontWeight > 500;\n      });\n      var fit = styleSources.filter(function (s) {\n        return s.fontWeight >= fontWeight && s.fontWeight < 500;\n      });\n      res = fit[0] || leftOffset[leftOffset.length - 1] || rightOffset[0];\n    }\n\n    var lt = styleSources.filter(function (s) {\n      return s.fontWeight < fontWeight;\n    });\n    var gt = styleSources.filter(function (s) {\n      return s.fontWeight > fontWeight;\n    });\n\n    if (fontWeight < 400) {\n      res = lt[lt.length - 1] || gt[0];\n    }\n\n    if (fontWeight > 500) {\n      res = gt[0] || lt[lt.length - 1];\n    }\n\n    if (!res) {\n      throw new Error(\"Could not resolve font for \" + this.fontFamily + \", fontWeight \" + fontWeight);\n    }\n\n    return res;\n  };\n\n  return Font;\n}();\n\nvar emojiSource;\n\nvar registerEmojiSource = function registerEmojiSource(_ref) {\n  var url = _ref.url,\n      _ref$format = _ref.format,\n      format = _ref$format === void 0 ? 'png' : _ref$format;\n  emojiSource = {\n    url: url,\n    format: format\n  };\n};\n\nvar getEmojiSource = function getEmojiSource() {\n  return emojiSource;\n};\n\nvar emoji = {\n  registerEmojiSource: registerEmojiSource,\n  getEmojiSource: getEmojiSource\n};\nvar standardFonts = ['Courier', 'Courier-Bold', 'Courier-Oblique', 'Helvetica', 'Helvetica-Bold', 'Helvetica-Oblique', 'Times-Roman', 'Times-Bold', 'Times-Italic'];\nvar hyphenationCallback;\n\nvar registerHyphenationCallback = function registerHyphenationCallback(callback) {\n  hyphenationCallback = callback;\n};\n\nvar getHyphenationCallback = function getHyphenationCallback() {\n  return hyphenationCallback;\n};\n\nvar hyphenation = {\n  registerHyphenationCallback: registerHyphenationCallback,\n  getHyphenationCallback: getHyphenationCallback\n};\nvar fonts = {};\n\nvar register = function register(src, data) {\n  if (typeof src === 'object') {\n    data = src;\n  } else {\n    warning(false, 'Font.register will not longer accept the font source as first argument. Please move it into the data object. For more info refer to https://react-pdf.org/fonts');\n    data.src = src;\n  }\n\n  var _data = data,\n      family = _data.family;\n\n  if (!fonts[family]) {\n    fonts[family] = Font.create(family);\n  } // Bulk loading\n\n\n  if (data.fonts) {\n    for (var i = 0; i < data.fonts.length; i++) {\n      fonts[family].register(_extends({\n        family: family\n      }, data.fonts[i]));\n    }\n  } else {\n    fonts[family].register(data);\n  }\n};\n\nvar getRegisteredFonts = function getRegisteredFonts() {\n  return fonts;\n};\n\nvar getRegisteredFontFamilies = function getRegisteredFontFamilies() {\n  return Object.keys(fonts);\n};\n\nvar getFont = function getFont(descriptor) {\n  var fontFamily = descriptor.fontFamily;\n  var isStandard = standardFonts.includes(fontFamily);\n  if (isStandard) return null;\n\n  if (!fonts[fontFamily]) {\n    throw new Error(\"Font family not registered: \" + fontFamily + \". Please register it calling Font.register() method.\");\n  }\n\n  return fonts[fontFamily].resolve(descriptor);\n};\n\nvar load = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(descriptor, doc) {\n    var fontFamily, isStandard, font;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fontFamily = descriptor.fontFamily;\n            isStandard = standardFonts.includes(fontFamily);\n\n            if (!isStandard) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 4:\n            font = getFont(descriptor); // We cache the font to avoid fetching it many times\n\n            if (!(!font.data && !font.loading)) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 8;\n            return font.load();\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function load(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar reset = function reset() {\n  for (var _font in fonts) {\n    if (fonts.hasOwnProperty(_font)) {\n      fonts[_font].data = null;\n    }\n  }\n};\n\nvar clear = function clear() {\n  fonts = {};\n};\n\nvar Font$1 = _extends({\n  register: register,\n  getRegisteredFonts: getRegisteredFonts,\n  getRegisteredFontFamilies: getRegisteredFontFamilies,\n  getFont: getFont,\n  load: load,\n  clear: clear,\n  reset: reset\n}, emoji, hyphenation);\n\nvar StandardFont = /*#__PURE__*/function () {\n  function StandardFont(src) {\n    this.name = src;\n    this.src = PDFFont.open(null, src);\n  }\n\n  var _proto = StandardFont.prototype;\n\n  _proto.layout = function layout(str) {\n    var _this = this;\n\n    var _this$src$encode = this.src.encode(str),\n        encoded = _this$src$encode[0],\n        positions = _this$src$encode[1];\n\n    return {\n      positions: positions,\n      stringIndices: positions.map(function (_, i) {\n        return i;\n      }),\n      glyphs: encoded.map(function (g, i) {\n        var glyph = _this.getGlyph(parseInt(g, 16));\n\n        glyph.advanceWidth = positions[i].advanceWidth;\n        return glyph;\n      })\n    };\n  };\n\n  _proto.glyphForCodePoint = function glyphForCodePoint(codePoint) {\n    var glyph = this.getGlyph(codePoint);\n    glyph.advanceWidth = 400;\n    return glyph;\n  };\n\n  _proto.getGlyph = function getGlyph(id) {\n    return {\n      id: id,\n      _font: this.src,\n      codePoints: [id],\n      isLigature: false,\n      name: this.src.font.characterToGlyph(id)\n    };\n  };\n\n  _proto.hasGlyphForCodePoint = function hasGlyphForCodePoint(codePoint) {\n    return this.src.font.characterToGlyph(codePoint) !== '.notdef';\n  } // Based on empirical observation\n  ;\n\n  _createClass(StandardFont, [{\n    key: \"ascent\",\n    get: function get() {\n      return 900;\n    } // Based on empirical observation\n\n  }, {\n    key: \"descent\",\n    get: function get() {\n      switch (this.name) {\n        case 'Times-Roman':\n        case 'Times-Bold':\n        case 'Times-Italic':\n          return -220;\n\n        case 'Courier':\n        case 'Courier-Bold':\n        case 'Courier-Oblique':\n          return -230;\n\n        default:\n          return -200;\n      }\n    }\n  }, {\n    key: \"lineGap\",\n    get: function get() {\n      return 0;\n    }\n  }, {\n    key: \"unitsPerEm\",\n    get: function get() {\n      return 1000;\n    }\n  }]);\n\n  return StandardFont;\n}();\n\nvar fontCache = {};\nvar IGNORED_CODE_POINTS = [173];\nvar getFontSize = pathOr(12, ['attributes', 'fontSize']);\n\nvar getFallbackFont = function getFallbackFont() {\n  return getOrCreateFont('Helvetica');\n};\n\nvar getOrCreateFont = function getOrCreateFont(name) {\n  if (fontCache[name]) return fontCache[name];\n  var font = new StandardFont(name);\n  fontCache[name] = font;\n  return font;\n};\n\nvar shouldFallbackToFont = function shouldFallbackToFont(codePoint, font) {\n  return !IGNORED_CODE_POINTS.includes(codePoint) && !font.hasGlyphForCodePoint(codePoint) && getFallbackFont().hasGlyphForCodePoint(codePoint);\n};\n\nvar fontSubstitution = function fontSubstitution() {\n  return function (_ref) {\n    var string = _ref.string,\n        runs = _ref.runs;\n    var lastFont = null;\n    var lastFontSize = null;\n    var lastIndex = 0;\n    var index = 0;\n    var res = [];\n\n    for (var _iterator = runs, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref2 = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref2 = _i.value;\n      }\n\n      var run = _ref2;\n      var defaultFont = typeof run.attributes.font === 'string' ? getOrCreateFont(run.attributes.font) : run.attributes.font;\n\n      if (string.length === 0) {\n        res.push({\n          start: 0,\n          end: 0,\n          attributes: {\n            font: defaultFont\n          }\n        });\n        break;\n      }\n\n      for (var _iterator2 = string.slice(run.start, run.end), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n        var _ref3;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref3 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref3 = _i2.value;\n        }\n\n        var char = _ref3;\n        var codePoint = char.codePointAt();\n        var shouldFallback = shouldFallbackToFont(codePoint, defaultFont); // If the default font does not have a glyph and the fallback font does, we use it\n\n        var font = shouldFallback ? getFallbackFont() : defaultFont;\n\n        var _fontSize = getFontSize(run); // If anything that would impact res has changed, update it\n\n\n        if (font !== lastFont || _fontSize !== lastFontSize || font.unitsPerEm !== lastFont.unitsPerEm) {\n          if (lastFont) {\n            res.push({\n              start: lastIndex,\n              end: index,\n              attributes: {\n                font: lastFont,\n                scale: lastFontSize / lastFont.unitsPerEm\n              }\n            });\n          }\n\n          lastFont = font;\n          lastFontSize = _fontSize;\n          lastIndex = index;\n        }\n\n        index += char.length;\n      }\n    }\n\n    if (lastIndex < string.length) {\n      var fontSize = getFontSize(last(runs));\n      res.push({\n        start: lastIndex,\n        end: string.length,\n        attributes: {\n          font: lastFont,\n          scale: fontSize / lastFont.unitsPerEm\n        }\n      });\n    }\n\n    return {\n      string: string,\n      runs: res\n    };\n  };\n};\n\nvar engines = {\n  linebreaker: linebreaker,\n  justification: justification,\n  textDecoration: textDecoration,\n  scriptItemizer: scriptItemizer,\n  wordHyphenation: wordHyphenation,\n  fontSubstitution: fontSubstitution\n};\nvar engine = layoutEngine(engines);\nvar fs = {};\n\nPNG.isValid = function (data) {\n  try {\n    return !!new PNG(data);\n  } catch (e) {\n    return false;\n  }\n}; // Extracted from https://github.com/devongovett/pdfkit/blob/master/lib/image/jpeg.coffee\n\n\nvar MARKERS = [0xffc0, 0xffc1, 0xffc2, 0xffc3, 0xffc5, 0xffc6, 0xffc7, 0xffc8, 0xffc9, 0xffca, 0xffcb, 0xffcc, 0xffcd, 0xffce, 0xffcf];\n\nvar JPEG = function JPEG(data) {\n  this.data = null;\n  this.width = null;\n  this.height = null;\n  this.data = data;\n\n  if (data.readUInt16BE(0) !== 0xffd8) {\n    throw new Error('SOI not found in JPEG');\n  }\n\n  var marker;\n  var pos = 2;\n\n  while (pos < data.length) {\n    marker = data.readUInt16BE(pos);\n    pos += 2;\n\n    if (MARKERS.includes(marker)) {\n      break;\n    }\n\n    pos += data.readUInt16BE(pos);\n  }\n\n  if (!MARKERS.includes(marker)) {\n    throw new Error('Invalid JPEG.');\n  }\n\n  pos += 3;\n  this.height = data.readUInt16BE(pos);\n  pos += 2;\n  this.width = data.readUInt16BE(pos);\n};\n\nJPEG.isValid = function (data) {\n  if (!data || !Buffer.isBuffer(data) || data.readUInt16BE(0) !== 0xffd8) {\n    return false;\n  }\n\n  var marker;\n  var pos = 2;\n\n  while (pos < data.length) {\n    marker = data.readUInt16BE(pos);\n    pos += 2;\n\n    if (MARKERS.includes(marker)) {\n      break;\n    }\n\n    pos += data.readUInt16BE(pos);\n  }\n\n  if (!MARKERS.includes(marker)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar createCache = function createCache(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$limit = _ref.limit,\n      limit = _ref$limit === void 0 ? 100 : _ref$limit;\n\n  var cache = {};\n  var keys = [];\n  return {\n    get: function get(key) {\n      return cache[key];\n    },\n    set: function set(key, value) {\n      keys.push(key);\n\n      if (keys.length > limit) {\n        delete cache[keys.shift()];\n      }\n\n      cache[key] = value;\n    },\n    reset: function reset() {\n      cache = {};\n      keys = [];\n    },\n    length: function length() {\n      return keys.length;\n    }\n  };\n};\n\nvar IMAGE_CACHE = createCache({\n  limit: 30\n});\n\nvar getAbsoluteLocalPath = function getAbsoluteLocalPath(src) {\n  {\n    throw new Error('Cannot check local paths in client-side environment');\n  }\n\n  var _url$parse = fs.parse(src),\n      protocol = _url$parse.protocol,\n      auth = _url$parse.auth,\n      host = _url$parse.host,\n      port = _url$parse.port,\n      hostname = _url$parse.hostname,\n      pathname = _url$parse.path;\n\n  var absolutePath = fs.resolve(pathname);\n\n  if (protocol && protocol !== 'file:' || auth || host || port || hostname) {\n    return undefined;\n  }\n\n  return absolutePath;\n};\n\nvar isDangerousLocalPath = function isDangerousLocalPath(filename, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$safePath = _ref.safePath,\n      safePath = _ref$safePath === void 0 ? './public' : _ref$safePath;\n\n  {\n    throw new Error('Cannot check dangerous local path in client-side environemnt');\n  }\n  var absoluteSafePath = fs.resolve(safePath);\n  var absoluteFilePath = fs.resolve(filename);\n  return !absoluteFilePath.startsWith(absoluteSafePath);\n};\n\nvar fetchLocalFile = function fetchLocalFile(src, _temp2) {\n  var _ref2 = _temp2 === void 0 ? {} : _temp2,\n      safePath = _ref2.safePath,\n      _ref2$allowDangerousP = _ref2.allowDangerousPaths,\n      allowDangerousPaths = _ref2$allowDangerousP === void 0 ? false : _ref2$allowDangerousP;\n\n  return new Promise(function (resolve, reject) {\n    try {\n      {\n        return reject(new Error('Cannot fetch local file in this environemnt'));\n      }\n      var absolutePath = getAbsoluteLocalPath(src);\n\n      if (!absolutePath) {\n        return reject(new Error(\"Cannot fetch non-local path: \" + src));\n      }\n\n      if (!allowDangerousPaths && isDangerousLocalPath(absolutePath, {\n        safePath: safePath\n      })) {\n        return reject(new Error(\"Cannot fetch dangerous local path: \" + src));\n      }\n\n      fs.readFile(absolutePath, function (err, data) {\n        return err ? reject(err) : resolve(data);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nvar fetchRemoteFile = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(uri, options) {\n    var response, buffer;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(uri, options);\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return response.buffer ? response.buffer() : response.arrayBuffer();\n\n          case 5:\n            buffer = _context.sent;\n            return _context.abrupt(\"return\", buffer.constructor.name === 'Buffer' ? buffer : Buffer.from(buffer));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchRemoteFile(_x, _x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar isValidFormat = function isValidFormat(format) {\n  var lower = format.toLowerCase();\n  return lower === 'jpg' || lower === 'jpeg' || lower === 'png';\n};\n\nvar guessFormat = function guessFormat(buffer) {\n  var format;\n\n  if (JPEG.isValid(buffer)) {\n    format = 'jpg';\n  } else if (PNG.isValid(buffer)) {\n    format = 'png';\n  }\n\n  return format;\n};\n\nvar isCompatibleBase64 = function isCompatibleBase64(_ref4) {\n  var uri = _ref4.uri;\n  return /^data:image\\/[a-zA-Z]*;base64,[^\"]*/g.test(uri);\n};\n\nfunction getImage(body, extension) {\n  switch (extension.toLowerCase()) {\n    case 'jpg':\n    case 'jpeg':\n      return new JPEG(body);\n\n    case 'png':\n      return new PNG(body);\n\n    default:\n      return null;\n  }\n}\n\nvar resolveBase64Image = function resolveBase64Image(_ref5) {\n  var uri = _ref5.uri;\n  var match = /^data:image\\/([a-zA-Z]*);base64,([^\"]*)/g.exec(uri);\n  var format = match[1];\n  var data = match[2];\n\n  if (!isValidFormat(format)) {\n    throw new Error(\"Base64 image invalid format: \" + format);\n  }\n\n  return new Promise(function (resolve) {\n    return resolve(getImage(Buffer.from(data, 'base64'), format));\n  });\n};\n\nvar resolveImageFromData = function resolveImageFromData(src) {\n  if (src.data && src.format) {\n    return new Promise(function (resolve) {\n      return resolve(getImage(src.data, src.format));\n    });\n  }\n\n  throw new Error(\"Invalid data given for local file: \" + JSON.stringify(src));\n};\n\nvar resolveBufferImage = function resolveBufferImage(buffer) {\n  var format = guessFormat(buffer);\n\n  if (format) {\n    return new Promise(function (resolve) {\n      return resolve(getImage(buffer, format));\n    });\n  }\n};\n\nvar getImageFormat = function getImageFormat(body) {\n  var isPng = body[0] === 137 && body[1] === 80 && body[2] === 78 && body[3] === 71 && body[4] === 13 && body[5] === 10 && body[6] === 26 && body[7] === 10;\n  var isJpg = body[0] === 255 && body[1] === 216 && body[2] === 255;\n  var extension = '';\n\n  if (isPng) {\n    extension = 'png';\n  } else if (isJpg) {\n    extension = 'jpg';\n  } else {\n    throw new Error('Not valid image extension');\n  }\n\n  return extension;\n};\n\nvar resolveImageFromUrl = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(src, options) {\n    var uri, body, headers, _src$method, method, data, extension;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            uri = src.uri, body = src.body, headers = src.headers, _src$method = src.method, method = _src$method === void 0 ? 'GET' : _src$method;\n            {\n              _context2.next = 7;\n              break;\n            }\n            _context2.next = 4;\n            return fetchLocalFile(uri, options);\n\n          case 4:\n            _context2.t0 = _context2.sent;\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.next = 9;\n            return fetchRemoteFile(uri, {\n              body: body,\n              headers: headers,\n              method: method\n            });\n\n          case 9:\n            _context2.t0 = _context2.sent;\n\n          case 10:\n            data = _context2.t0;\n            extension = getImageFormat(data);\n            return _context2.abrupt(\"return\", getImage(data, extension));\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function resolveImageFromUrl(_x3, _x4) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar resolveImage = function resolveImage(src, _temp3) {\n  var _ref7 = _temp3 === void 0 ? {} : _temp3,\n      _ref7$cache = _ref7.cache,\n      cache = _ref7$cache === void 0 ? true : _ref7$cache,\n      options = _objectWithoutPropertiesLoose(_ref7, [\"cache\"]);\n\n  var cacheKey = src.data ? src.data.toString() : src.uri;\n\n  if (cache && IMAGE_CACHE.get(cacheKey)) {\n    return IMAGE_CACHE.get(cacheKey);\n  }\n\n  var image;\n\n  if (isCompatibleBase64(src)) {\n    image = resolveBase64Image(src);\n  } else if (Buffer.isBuffer(src)) {\n    image = resolveBufferImage(src);\n  } else if (typeof src === 'object' && src.data) {\n    image = resolveImageFromData(src);\n  } else {\n    image = resolveImageFromUrl(src, options);\n  }\n\n  if (!image) {\n    throw new Error('Cannot resolve image');\n  }\n\n  if (cache) {\n    IMAGE_CACHE.set(cacheKey, image);\n  }\n\n  return image;\n};\n\nvar emojis = {};\nvar regex = emojiRegex();\n\nvar reflect = function reflect(promise) {\n  return function () {\n    return promise.apply(void 0, arguments).then(function (v) {\n      return v;\n    }, function (e) {\n      return e;\n    });\n  };\n}; // Returns a function to be able to mock resolveImage.\n\n\nvar makeFetchEmojiImage = function makeFetchEmojiImage() {\n  return reflect(resolveImage);\n};\n/**\n * When an emoji as no color, it might still have 2 parts,\n * the canonical emoji and an empty string.\n * ex.\n *   (no color) Array.from('❤️') => [\"❤\", \"️\"]\n *   (w/ color) Array.from('👍🏿') => [\"👍\", \"🏿\"]\n *\n * The empty string needs to be removed otherwise the generated\n * url will be incorect.\n */\n\n\nvar _removeNoColor = function _removeNoColor(x) {\n  return x !== '️';\n};\n\nvar getCodePoints = function getCodePoints(string) {\n  return Array.from(string).filter(_removeNoColor).map(function (char) {\n    return char.codePointAt(0).toString(16);\n  }).join('-');\n};\n\nvar buildEmojiUrl = function buildEmojiUrl(emoji) {\n  var _Font$getEmojiSource = Font$1.getEmojiSource(),\n      url = _Font$getEmojiSource.url,\n      format = _Font$getEmojiSource.format;\n\n  return \"\" + url + getCodePoints(emoji) + \".\" + format;\n};\n\nvar fetchEmojis = function fetchEmojis(string) {\n  var emojiSource = Font$1.getEmojiSource();\n  if (!emojiSource || !emojiSource.url) return [];\n  var promises = [];\n  var match;\n\n  var _loop = function _loop() {\n    var emoji = match[0];\n\n    if (!emojis[emoji] || emojis[emoji].loading) {\n      var emojiUrl = buildEmojiUrl(emoji);\n      emojis[emoji] = {\n        loading: true\n      };\n      var fetchEmojiImage = makeFetchEmojiImage();\n      promises.push(fetchEmojiImage({\n        uri: emojiUrl\n      }).then(function (image) {\n        emojis[emoji].loading = false;\n        emojis[emoji].data = image.data;\n      }));\n    }\n  };\n\n  while (match = regex.exec(string)) {\n    _loop();\n  }\n\n  return promises;\n};\n\nvar embedEmojis = function embedEmojis(fragments) {\n  var result = [];\n\n  for (var i = 0; i < fragments.length; i++) {\n    var fragment = fragments[i];\n    var match = void 0;\n    var lastIndex = 0;\n\n    while (match = regex.exec(fragment.string)) {\n      var index = match.index;\n      var emoji = match[0];\n      var emojiSize = fragment.attributes.fontSize;\n      var chunk = fragment.string.slice(lastIndex, index + match[0].length); // If emoji image was found, we create a new fragment with the\n      // correct attachment and object substitution character;\n\n      if (emojis[emoji] && emojis[emoji].data) {\n        result.push({\n          string: chunk.replace(match, String.fromCharCode(0xfffc)),\n          attributes: _extends({}, fragment.attributes, {\n            attachment: {\n              width: emojiSize,\n              height: emojiSize,\n              yOffset: Math.floor(emojiSize * 0.1),\n              image: emojis[emoji].data\n            }\n          })\n        });\n      } else {\n        // If no emoji data, we just replace the emoji with a nodef char\n        result.push({\n          string: chunk.replace(match, String.fromCharCode(0)),\n          attributes: fragment.attributes\n        });\n      }\n\n      lastIndex = index + emoji.length;\n    }\n\n    if (lastIndex < fragment.string.length) {\n      result.push({\n        string: fragment.string.slice(lastIndex),\n        attributes: fragment.attributes\n      });\n    }\n  }\n\n  return result;\n};\n\nvar IGNORABLE_CODEPOINTS = [8232, // LINE_SEPARATOR\n8233];\n\nvar buildSubsetForFont = function buildSubsetForFont(font) {\n  return IGNORABLE_CODEPOINTS.reduce(function (acc, codePoint) {\n    if (font.hasGlyphForCodePoint && font.hasGlyphForCodePoint(codePoint)) {\n      return acc;\n    }\n\n    return [].concat(acc, [String.fromCharCode(codePoint)]);\n  }, []);\n};\n\nvar ignoreChars = function ignoreChars(fragments) {\n  return fragments.map(function (fragment) {\n    var charSubset = buildSubsetForFont(fragment.attributes.font);\n    var subsetRegex = new RegExp(charSubset.join('|'));\n    return {\n      string: fragment.string.replace(subsetRegex, ''),\n      attributes: fragment.attributes\n    };\n  });\n};\n\nvar PREPROCESSORS = [ignoreChars, embedEmojis];\n\nvar capitalize = function capitalize(value) {\n  return value.replace(/(^|\\s)\\S/g, function (l) {\n    return l.toUpperCase();\n  });\n};\n\nvar isImage = propEq('name', 'Image');\nvar isTextInstance = compose(complement(isNil), prop('value'));\n\nvar transformText = function transformText(text, transformation) {\n  switch (transformation) {\n    case 'uppercase':\n      return text.toUpperCase();\n\n    case 'lowercase':\n      return text.toLowerCase();\n\n    case 'capitalize':\n      return capitalize(text);\n\n    default:\n      return text;\n  }\n};\n\nvar getFragments = function getFragments(instance) {\n  if (!instance) return [{\n    string: ''\n  }];\n  var fragments = [];\n  var _instance$style = instance.style,\n      _instance$style$color = _instance$style.color,\n      color = _instance$style$color === void 0 ? 'black' : _instance$style$color,\n      backgroundColor = _instance$style.backgroundColor,\n      _instance$style$fontF = _instance$style.fontFamily,\n      fontFamily = _instance$style$fontF === void 0 ? 'Helvetica' : _instance$style$fontF,\n      fontWeight = _instance$style.fontWeight,\n      fontStyle = _instance$style.fontStyle,\n      _instance$style$fontS = _instance$style.fontSize,\n      fontSize = _instance$style$fontS === void 0 ? 18 : _instance$style$fontS,\n      _instance$style$textA = _instance$style.textAlign,\n      textAlign = _instance$style$textA === void 0 ? 'left' : _instance$style$textA,\n      lineHeight = _instance$style.lineHeight,\n      textDecoration = _instance$style.textDecoration,\n      textDecorationColor = _instance$style.textDecorationColor,\n      textDecorationStyle = _instance$style.textDecorationStyle,\n      textTransform = _instance$style.textTransform,\n      letterSpacing = _instance$style.letterSpacing,\n      textIndent = _instance$style.textIndent,\n      opacity = _instance$style.opacity;\n  var obj = Font$1.getFont({\n    fontFamily: fontFamily,\n    fontWeight: fontWeight,\n    fontStyle: fontStyle\n  });\n  var font = obj ? obj.data : fontFamily;\n  var attributes = {\n    font: font,\n    color: color,\n    opacity: opacity,\n    fontSize: fontSize,\n    backgroundColor: backgroundColor,\n    align: textAlign,\n    indent: textIndent,\n    link: instance.src,\n    characterSpacing: letterSpacing,\n    underlineStyle: textDecorationStyle,\n    underline: textDecoration === 'underline',\n    underlineColor: textDecorationColor || color,\n    strike: textDecoration === 'line-through',\n    strikeStyle: textDecorationStyle,\n    strikeColor: textDecorationColor || color,\n    lineHeight: lineHeight ? lineHeight * fontSize : null\n  };\n  instance.children.forEach(function (child) {\n    if (isImage(child)) {\n      fragments.push({\n        string: String.fromCharCode(0xfffc),\n        attributes: _extends({}, attributes, {\n          attachment: {\n            width: child.style.width || fontSize,\n            height: child.style.height || fontSize,\n            image: child.image.data\n          }\n        })\n      });\n    } else if (isTextInstance(child)) {\n      fragments.push({\n        string: transformText(child.value, textTransform),\n        attributes: attributes\n      });\n    } else {\n      if (child) {\n        var _fragments;\n\n        (_fragments = fragments).push.apply(_fragments, getFragments(child));\n      }\n    }\n  });\n\n  for (var _i = 0; _i < PREPROCESSORS.length; _i++) {\n    var preprocessor = PREPROCESSORS[_i];\n    fragments = preprocessor(fragments);\n  }\n\n  return fragments;\n};\n\nvar getAttributedString = function getAttributedString(instance) {\n  return AttributedString.fromFragments(getFragments(instance));\n};\n\nvar Text = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(Text, _Base);\n\n  function Text(root, props) {\n    var _this;\n\n    _this = _Base.call(this, root, props) || this;\n    _this.start = 0;\n    _this.end = 0;\n    _this.blocks = null;\n    _this.computed = false;\n    _this.attributedString = null;\n    _this.layoutOptions = {\n      hyphenationPenalty: props.hyphenationPenalty,\n      hyphenationCallback: props.hyphenationCallback || Font$1.getHyphenationCallback(),\n      shrinkWhitespaceFactor: {\n        before: -0.5,\n        after: -0.5\n      }\n    };\n\n    _this.layout.setMeasureFunc(_this.measureText.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  var _proto = Text.prototype;\n\n  _proto.appendChild = function appendChild(child) {\n    if (child) {\n      child.parent = this;\n      this.children.push(child);\n      this.computed = false;\n      this.attributedString = null;\n      this.markDirty();\n    }\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    var index = this.children.indexOf(child);\n\n    if (index !== -1) {\n      child.parent = null;\n      this.children.splice(index, 1);\n      this.computed = false;\n      this.attributedString = null;\n      this.markDirty();\n      child.cleanup();\n    }\n  };\n\n  _proto.lineIndexAtHeight = function lineIndexAtHeight(height) {\n    var counter = 0;\n\n    for (var i = 0; i < this.lines.length; i++) {\n      var line = this.lines[i];\n      if (counter + line.box.height > height) return i;\n      counter += line.box.height;\n    }\n\n    return this.lines.length;\n  };\n\n  _proto.heightAtLineIndex = function heightAtLineIndex(index) {\n    var counter = 0;\n\n    for (var i = 0; i < index; i++) {\n      var line = this.lines[i];\n      counter += line.box.height;\n    }\n\n    return counter;\n  };\n\n  _proto.layoutText = function layoutText(width, height) {\n    this.attributedString = getAttributedString(this); // Text layout is expensive. That's why we ensure to only do it once\n    // (except dynamic nodes. Those change content and needs to relayout every time)\n\n    if (!this.blocks || this.props.render) {\n      // Do the actual text layout.\n      /// If height null or NaN, we take some liberty on layout height\n      var container = {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height || Infinity,\n        maxLines: this.style.maxLines,\n        truncateMode: this.style.textOverflow\n      };\n      this.blocks = engine(this.attributedString, container, this.layoutOptions);\n    } // Get the total amount of rendered lines\n\n\n    var linesCount = this.blocks.reduce(function (acc, b) {\n      return acc + b.length;\n    }, 0);\n    this.end = linesCount + 1;\n    this.computed = true;\n  };\n\n  _proto.measureText = function measureText(width, widthMode, height, heightMode) {\n    if (widthMode === Yoga.MEASURE_MODE_EXACTLY) {\n      this.layoutText(width, height);\n      return {\n        height: this.linesHeight\n      };\n    }\n\n    if (widthMode === Yoga.MEASURE_MODE_AT_MOST) {\n      this.layoutText(width, height);\n      return {\n        height: this.linesHeight,\n        width: Math.min(width, this.linesWidth)\n      };\n    }\n\n    return {};\n  };\n\n  _proto.resolveStyles = function resolveStyles() {\n    var styles = _Base.prototype.resolveStyles.call(this); // Inherit relative positioning for inline childs\n\n\n    if (this.parent && this.parent.name === 'Text' && this.parent.style.position === 'relative') {\n      styles.top = styles.top || this.parent.style.top;\n      styles.bottom = styles.bottom || this.parent.style.bottom;\n      styles.position = styles.position || 'relative';\n    } // Apply default link styles\n\n\n    if (this.src) {\n      styles.color = styles.color || 'blue';\n      styles.textDecoration = styles.textDecoration || 'underline';\n    }\n\n    return styles;\n  };\n\n  _proto.wrapHeight = function wrapHeight(height) {\n    var _this$props = this.props,\n        orphans = _this$props.orphans,\n        widows = _this$props.widows;\n    var linesQuantity = this.lines.length;\n    var sliceHeight = height - this.paddingTop;\n    var slicedLine = this.lineIndexAtHeight(sliceHeight);\n\n    if (linesQuantity < orphans) {\n      return height;\n    } else if (slicedLine < orphans || linesQuantity < orphans + widows) {\n      return 0;\n    } else if (linesQuantity === orphans + widows) {\n      return this.heightAtLineIndex(orphans);\n    } else if (linesQuantity - slicedLine < widows) {\n      return height - this.heightAtLineIndex(widows - 1);\n    }\n\n    return height;\n  };\n\n  _proto.onNodeSplit = function onNodeSplit(height, clone) {\n    var wrapHeight = this.wrapHeight(height);\n    var slicedLineIndex = this.lineIndexAtHeight(wrapHeight);\n    clone.marginTop = 0;\n    clone.paddingTop = 0;\n    clone.start = slicedLineIndex + this.start;\n    clone.attributedString = this.attributedString;\n    this.height = wrapHeight;\n    this.marginBottom = 0;\n    this.paddingBottom = 0;\n    this.end = slicedLineIndex;\n  };\n\n  _proto.clone = function clone() {\n    var text = _Base.prototype.clone.call(this);\n\n    text.layoutEngine = this.layoutEngine; // Save calculated layout for non-dynamic clone elements\n\n    if (this.blocks && !this.props.render) {\n      text.blocks = [].concat(this.blocks);\n    }\n\n    return text;\n  };\n\n  _proto.renderText = function renderText() {\n    var _this$getAbsoluteLayo = this.getAbsoluteLayout(),\n        top = _this$getAbsoluteLayo.top,\n        left = _this$getAbsoluteLayo.left;\n\n    var initialY = this.lines[0] ? this.lines[0].box.y : 0; // We translate lines based on Yoga container\n\n    this.root.instance.save();\n    this.root.instance.translate(left + this.padding.left, top + this.padding.top - initialY); // Perform actual text rendering on document\n\n    PDFRenderer$1.render(this.root.instance, [this.lines]);\n    setLink(this);\n    setDestination(this);\n    this.root.instance.restore();\n  };\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.root.instance.save();\n              this.applyTransformations();\n              this.drawBackgroundColor();\n              this.drawBorders(); // Calculate text layout if needed\n              // This can happen if measureText was not called by Yoga\n\n              if (!this.computed) {\n                this.layoutText(this.width - this.padding.left - this.padding.right, this.height - this.padding.top - this.padding.bottom);\n              }\n\n              this.renderText();\n\n              if (this.props.debug) {\n                this.debug();\n              }\n\n              this.root.instance.restore();\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(Text, [{\n    key: \"name\",\n    get: function get() {\n      return 'Text';\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return getURL(this.props.src || this.props.href);\n    }\n  }, {\n    key: \"lines\",\n    get: function get() {\n      if (!this.blocks) return [];\n      return this.blocks.reduce(function (acc, block) {\n        return [].concat(acc, block);\n      }, []).splice(this.start, this.end);\n    }\n  }, {\n    key: \"linesHeight\",\n    get: function get() {\n      if (!this.blocks) return -1;\n      return this.lines.reduce(function (acc, line) {\n        return acc + line.box.height;\n      }, 0);\n    }\n  }, {\n    key: \"linesWidth\",\n    get: function get() {\n      if (!this.blocks) return -1;\n      return Math.max.apply(Math, this.lines.map(function (line) {\n        return AttributedString.advanceWidth(line);\n      }));\n    }\n  }]);\n\n  return Text;\n}(Base);\n\nText.defaultProps = {\n  wrap: true,\n  widows: 2,\n  orphans: 2\n};\n\nvar Link = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(Link, _Base);\n\n  function Link() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = Link.prototype;\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLink(this);\n              _context.next = 3;\n              return this.renderChildren();\n\n            case 3:\n              if (this.props.debug) this.debug();\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(Link, [{\n    key: \"name\",\n    get: function get() {\n      return 'Link';\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return getURL(this.props.src || this.props.href);\n    }\n  }]);\n\n  return Link;\n}(Base);\n\nvar Note = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(Note, _Base);\n\n  function Note() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = Note.prototype;\n\n  _proto.appendChild = function appendChild(child) {\n    if (child.name !== 'TextInstance') {\n      throw new Error('Note only accepts string children');\n    }\n\n    if (child) {\n      child.parent = this;\n      this.children.push(child);\n    }\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    var index = this.children.indexOf(child);\n\n    if (index !== -1) {\n      child.parent = null;\n      this.children.splice(index, 1);\n    }\n\n    child.cleanup();\n  };\n\n  _proto.applyProps = function applyProps() {\n    _Base.prototype.applyProps.call(this);\n\n    this.height = 0;\n    this.width = 0;\n  };\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$getAbsoluteLayo, top, left, value;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$getAbsoluteLayo = this.getAbsoluteLayout(), top = _this$getAbsoluteLayo.top, left = _this$getAbsoluteLayo.left;\n              value = this.children[0] ? this.children[0].value : '';\n              this.root.instance.note(left, top, 0, 0, value);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(Note, [{\n    key: \"name\",\n    get: function get() {\n      return 'Note';\n    }\n  }]);\n\n  return Note;\n}(Base);\n\nNote.defaultProps = {};\n\nvar isNumeric = function isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n};\n\nvar applyContainObjectFit = function applyContainObjectFit(cw, ch, iw, ih, px, py) {\n  var cr = cw / ch;\n  var ir = iw / ih;\n  var pxp = matchPercent(px);\n  var pyp = matchPercent(py);\n  var pxv = pxp ? pxp.percent : 0.5;\n  var pyv = pyp ? pyp.percent : 0.5;\n\n  if (cr > ir) {\n    var height = ch;\n    var width = height * ir;\n    var yOffset = isNumeric(py) ? py : 0;\n    var xOffset = isNumeric(px) ? px : (cw - width) * pxv;\n    return {\n      width: width,\n      height: height,\n      xOffset: xOffset,\n      yOffset: yOffset\n    };\n  } else {\n    var _width = cw;\n\n    var _height = _width / ir;\n\n    var _xOffset = isNumeric(px) ? px : 0;\n\n    var _yOffset = isNumeric(py) ? py : (ch - _height) * pyv;\n\n    return {\n      width: _width,\n      height: _height,\n      yOffset: _yOffset,\n      xOffset: _xOffset\n    };\n  }\n};\n\nvar applyNoneObjectFit = function applyNoneObjectFit(cw, ch, iw, ih, px, py) {\n  var width = iw;\n  var height = ih;\n  var pxp = matchPercent(px);\n  var pyp = matchPercent(py);\n  var pxv = pxp ? pxp.percent : 0.5;\n  var pyv = pyp ? pyp.percent : 0.5;\n  var xOffset = isNumeric(px) ? px : (cw - width) * pxv;\n  var yOffset = isNumeric(py) ? py : (ch - height) * pyv;\n  return {\n    width: width,\n    height: height,\n    xOffset: xOffset,\n    yOffset: yOffset\n  };\n};\n\nvar applyCoverObjectFit = function applyCoverObjectFit(cw, ch, iw, ih, px, py) {\n  var ir = iw / ih;\n  var cr = cw / ch;\n  var pxp = matchPercent(px);\n  var pyp = matchPercent(py);\n  var pxv = pxp ? pxp.percent : 0.5;\n  var pyv = pyp ? pyp.percent : 0.5;\n\n  if (cr > ir) {\n    var width = cw;\n    var height = width / ir;\n    var xOffset = isNumeric(px) ? px : 0;\n    var yOffset = isNumeric(py) ? py : (ch - height) * pyv;\n    return {\n      width: width,\n      height: height,\n      yOffset: yOffset,\n      xOffset: xOffset\n    };\n  } else {\n    var _height2 = ch;\n\n    var _width2 = _height2 * ir;\n\n    var _xOffset2 = isNumeric(px) ? px : (cw - _width2) * pxv;\n\n    var _yOffset2 = isNumeric(py) ? py : 0;\n\n    return {\n      width: _width2,\n      height: _height2,\n      xOffset: _xOffset2,\n      yOffset: _yOffset2\n    };\n  }\n};\n\nvar applyScaleDownObjectFit = function applyScaleDownObjectFit(cw, ch, iw, ih, px, py) {\n  var containDimension = applyContainObjectFit(cw, ch, iw, ih, px, py);\n  var noneDimension = applyNoneObjectFit(cw, ch, iw, ih, px, py);\n  return containDimension.width < noneDimension.width ? containDimension : noneDimension;\n};\n\nvar applyFillObjectFit = function applyFillObjectFit(cw, ch, px, py) {\n  return {\n    width: cw,\n    height: ch,\n    xOffset: matchPercent(px) ? 0 : px || 0,\n    yOffset: matchPercent(py) ? 0 : py || 0\n  };\n};\n\nvar resolveObjectFit = function resolveObjectFit(type, cw, ch, iw, ih, px, py) {\n  if (type === void 0) {\n    type = 'fill';\n  }\n\n  switch (type) {\n    case 'contain':\n      return applyContainObjectFit(cw, ch, iw, ih, px, py);\n\n    case 'cover':\n      return applyCoverObjectFit(cw, ch, iw, ih, px, py);\n\n    case 'none':\n      return applyNoneObjectFit(cw, ch, iw, ih, px, py);\n\n    case 'scale-down':\n      return applyScaleDownObjectFit(cw, ch, iw, ih, px, py);\n\n    default:\n      return applyFillObjectFit(cw, ch, px, py);\n  }\n};\n\nvar SAFETY_HEIGHT = 10;\n\nvar Image = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(Image, _Base);\n\n  function Image(root, props) {\n    var _this;\n\n    _this = _Base.call(this, root, props) || this;\n    _this.image = null;\n\n    _this.layout.setMeasureFunc(_this.measureImage.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.shouldGrow = function shouldGrow() {\n    return !!this.style.flexGrow;\n  };\n\n  _proto.measureImage = function measureImage(width, widthMode, height, heightMode) {\n    var imageMargin = this.margin;\n    var pagePadding = this.page.padding;\n    var pageArea = this.page.isAutoHeight ? Infinity : this.page.size.height - pagePadding.top - pagePadding.bottom - imageMargin.top - imageMargin.bottom - SAFETY_HEIGHT; // Skip measure if image data not present yet\n\n    if (!this.image) return {\n      width: 0,\n      height: 0\n    };\n\n    if (widthMode === Yoga.MEASURE_MODE_EXACTLY && heightMode === Yoga.MEASURE_MODE_UNDEFINED) {\n      var scaledHeight = width / this.ratio;\n      return {\n        height: Math.min(pageArea, scaledHeight)\n      };\n    }\n\n    if (heightMode === Yoga.MEASURE_MODE_EXACTLY && (widthMode === Yoga.MEASURE_MODE_AT_MOST || widthMode === Yoga.MEASURE_MODE_UNDEFINED)) {\n      return {\n        width: Math.min(height * this.ratio, width)\n      };\n    }\n\n    if (widthMode === Yoga.MEASURE_MODE_EXACTLY && heightMode === Yoga.MEASURE_MODE_AT_MOST) {\n      var _scaledHeight = width / this.ratio;\n\n      return {\n        height: Math.min(height, pageArea, _scaledHeight)\n      };\n    }\n\n    if (widthMode === Yoga.MEASURE_MODE_AT_MOST && heightMode === Yoga.MEASURE_MODE_AT_MOST) {\n      if (this.ratio > 1) {\n        return {\n          width: width,\n          height: Math.min(width / this.ratio, height)\n        };\n      } else {\n        return {\n          width: Math.min(height * this.ratio, width),\n          height: height\n        };\n      }\n    }\n\n    return {\n      height: height,\n      width: width\n    };\n  };\n\n  _proto.fetch = /*#__PURE__*/function () {\n    var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$props, cache, safePath, allowDangerousPaths, src;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = this.props, cache = _this$props.cache, safePath = _this$props.safePath, allowDangerousPaths = _this$props.allowDangerousPaths;\n\n              if (this.src) {\n                _context.next = 4;\n                break;\n              }\n\n              warning(false, 'Image should receive either a \"src\" or \"source\" prop');\n              return _context.abrupt(\"return\");\n\n            case 4:\n              _context.prev = 4;\n\n              if (!(typeof this.src === 'function')) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 8;\n              return this.src();\n\n            case 8:\n              _context.t0 = _context.sent;\n              _context.next = 12;\n              break;\n\n            case 11:\n              _context.t0 = this.src;\n\n            case 12:\n              src = _context.t0;\n              _context.next = 15;\n              return resolveImage(src, {\n                cache: cache,\n                safePath: safePath,\n                allowDangerousPaths: allowDangerousPaths\n              });\n\n            case 15:\n              this.image = _context.sent;\n              _context.next = 22;\n              break;\n\n            case 18:\n              _context.prev = 18;\n              _context.t1 = _context[\"catch\"](4);\n              this.image = {\n                width: 0,\n                height: 0\n              };\n              console.warn(_context.t1.message);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[4, 18]]);\n    }));\n\n    function fetch() {\n      return _fetch.apply(this, arguments);\n    }\n\n    return fetch;\n  }();\n\n  _proto.clone = function clone() {\n    var clone = _Base.prototype.clone.call(this);\n\n    clone.image = this.image;\n    return clone;\n  };\n\n  _proto.onAppendDynamically = /*#__PURE__*/function () {\n    var _onAppendDynamically = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.fetch();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function onAppendDynamically() {\n      return _onAppendDynamically.apply(this, arguments);\n    }\n\n    return onAppendDynamically;\n  }();\n\n  _proto.renderImage = function renderImage() {\n    var padding = this.padding;\n\n    var _this$getAbsoluteLayo = this.getAbsoluteLayout(),\n        left = _this$getAbsoluteLayo.left,\n        top = _this$getAbsoluteLayo.top;\n\n    var _this$style = this.style,\n        opacity = _this$style.opacity,\n        objectPositionX = _this$style.objectPositionX,\n        objectPositionY = _this$style.objectPositionY;\n    this.root.instance.save(); // Clip path to keep image inside border radius\n\n    this.clip();\n\n    if (this.image && this.image.data) {\n      var _resolveObjectFit = resolveObjectFit(this.style.objectFit, this.width - padding.left - padding.right, this.height - padding.top - padding.bottom, this.image.width, this.image.height, objectPositionX, objectPositionY),\n          width = _resolveObjectFit.width,\n          height = _resolveObjectFit.height,\n          xOffset = _resolveObjectFit.xOffset,\n          yOffset = _resolveObjectFit.yOffset;\n\n      if (width !== 0 && height !== 0) {\n        this.root.instance.fillOpacity(opacity).image(this.image.data, left + padding.left + xOffset, top + padding.top + yOffset, {\n          width: width,\n          height: height\n        });\n      } else {\n        warning(false, \"Image with src '\" + this.props.src + \"' skipped due to invalid dimensions\");\n      }\n    } else {\n      warning(false, \"Image skipped because src prop is \" + this.props.src);\n    }\n\n    this.root.instance.restore();\n  };\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setDestination(this);\n              this.root.instance.save();\n              this.applyTransformations();\n              this.drawBackgroundColor();\n              this.renderImage();\n              this.drawBorders();\n\n              if (this.props.debug) {\n                this.debug();\n              }\n\n              this.root.instance.restore();\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(Image, [{\n    key: \"name\",\n    get: function get() {\n      return 'Image';\n    }\n  }, {\n    key: \"ratio\",\n    get: function get() {\n      return this.image.data ? this.image.width / this.image.height : 1;\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      var src = this.props.src || this.props.source;\n      return typeof src === 'string' ? {\n        uri: src\n      } : src;\n    }\n  }]);\n\n  return Image;\n}(Base);\n\nImage.defaultProps = {\n  wrap: false,\n  cache: true,\n  style: {}\n}; // Default presence ahead function. Used when node does not provides one.\n\nvar defaultPresenceAhead = function defaultPresenceAhead(element) {\n  return function (height) {\n    return Math.min(element.height, height);\n  };\n}; // Calculates the presence ahead or an array of nodes, given the available height.\n\n\nvar getPresenceAhead = function getPresenceAhead(elements, height) {\n  var result = 0;\n\n  for (var i = 0; i < elements.length; i++) {\n    var element = elements[i];\n    var isElementInside = height > element.top;\n    var presenceAhead = element.presenceAhead || defaultPresenceAhead(element);\n\n    if (element && isElementInside) {\n      result += presenceAhead(height - element.top);\n    }\n  }\n\n  return result;\n}; // Clone element recursively including children\n\n\nvar cloneRecursively = function cloneRecursively(node) {\n  var clone = node.clone();\n\n  if (node.children && node.children.length > 0) {\n    node.children.forEach(function (child) {\n      return clone.appendChild(cloneRecursively(child));\n    });\n  }\n\n  return clone;\n}; // Wrap nodes tree in fixed height page, and returns exceedings separately.\n\n\nvar wrap = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(elements, height, pageNumber) {\n    var nextPageElements, elementsToBeRemoved, i, element, futureElements, isElementOutside, elementShouldSplit, elementFitsFullPageHeight, elementShouldBreak, presenceAhead, clone, newFutureElements, nonFixedElements, _ret;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            nextPageElements = [];\n            elementsToBeRemoved = [];\n            i = 0;\n\n          case 3:\n            if (!(i < elements.length)) {\n              _context2.next = 38;\n              break;\n            }\n\n            element = elements[i];\n\n            if (!element.nodeWillWrap) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 8;\n            return element.nodeWillWrap({\n              pageNumber: pageNumber\n            });\n\n          case 8:\n            futureElements = elements.slice(i + 1);\n            isElementOutside = height <= element.top;\n            elementShouldSplit = height < element.top + element.height;\n            elementFitsFullPageHeight = element.height <= height;\n            elementShouldBreak = element.break || !element.wrap && elementShouldSplit && elementFitsFullPageHeight; // If element is fixed, we add it both to the current page\n            // and to all future pages to come.\n\n            if (!element.fixed) {\n              _context2.next = 16;\n              break;\n            }\n\n            nextPageElements.push(cloneRecursively(element));\n            return _context2.abrupt(\"continue\", 35);\n\n          case 16:\n            if (!isElementOutside) {\n              _context2.next = 20;\n              break;\n            }\n\n            nextPageElements.push(cloneRecursively(element));\n            elementsToBeRemoved.push(element);\n            return _context2.abrupt(\"continue\", 35);\n\n          case 20:\n            // Checks if element has more than the minimun presence ahead on that page.\n            // If not, we break the page in this element.\n            if (element.minPresenceAhead) {\n              presenceAhead = getPresenceAhead(futureElements, height);\n              if (presenceAhead < element.minPresenceAhead) elementShouldBreak = true;\n            } // Element can break based on many conditions: if has the break flag,\n            // if has the wrap flag as false and should be splitted or didn't have enough\n            // presence ahead. Either way, the element get's relocated on the next page,\n            // as well as all other next elements.\n\n\n            if (!elementShouldBreak) {\n              _context2.next = 30;\n              break;\n            }\n\n            clone = cloneRecursively(element);\n            newFutureElements = futureElements.map(function (element) {\n              return cloneRecursively(element);\n            });\n            nonFixedElements = futureElements.filter(function (element) {\n              return !element.fixed;\n            });\n            clone.top = 0;\n            clone.break = false;\n            nextPageElements.push.apply(nextPageElements, [clone].concat(newFutureElements));\n            elementsToBeRemoved.push.apply(elementsToBeRemoved, [element].concat(nonFixedElements));\n            return _context2.abrupt(\"break\", 38);\n\n          case 30:\n            if (!elementShouldSplit) {\n              _context2.next = 35;\n              break;\n            }\n\n            return _context2.delegateYield( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n              var clone, remainingHeight, wrappedChildren;\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      clone = element.clone();\n                      remainingHeight = height - element.top;\n\n                      if (!(element.children && element.children.length > 0)) {\n                        _context.next = 7;\n                        break;\n                      }\n\n                      _context.next = 5;\n                      return wrap(element.children, remainingHeight);\n\n                    case 5:\n                      wrappedChildren = _context.sent;\n                      wrappedChildren.forEach(function (child) {\n                        return clone.appendChild(child);\n                      });\n\n                    case 7:\n                      element.onNodeSplit(remainingHeight, clone);\n                      nextPageElements.push(clone);\n                      return _context.abrupt(\"return\", \"continue\");\n\n                    case 10:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            })(), \"t0\", 32);\n\n          case 32:\n            _ret = _context2.t0;\n\n            if (!(_ret === \"continue\")) {\n              _context2.next = 35;\n              break;\n            }\n\n            return _context2.abrupt(\"continue\", 35);\n\n          case 35:\n            i++;\n            _context2.next = 3;\n            break;\n\n          case 38:\n            // Remove elements that didn't fit inside page\n            // We do this here to not interfer with upper elements iteration\n            elementsToBeRemoved.forEach(function (element) {\n              return element.remove();\n            });\n            return _context2.abrupt(\"return\", nextPageElements);\n\n          case 40:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function wrap(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}(); // Wrap nodes tree in equal sized subpages\n\n\nvar wrapPages = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(nodes, height, pageIndex) {\n    var wrapResult, nextPage, hasOnlyFixedChilds, nextPages;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return wrap(nodes, height, pageIndex++);\n\n          case 2:\n            wrapResult = _context3.sent;\n            nextPage = wrapResult[0];\n\n            if (!(!nextPage || nextPage.isEmpty())) {\n              _context3.next = 6;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", nodes);\n\n          case 6:\n            hasOnlyFixedChilds = nextPage.children.length > 0 && nextPage.children.every(function (c) {\n              return c.fixed;\n            });\n\n            if (!hasOnlyFixedChilds) {\n              _context3.next = 9;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", nodes);\n\n          case 9:\n            _context3.next = 11;\n            return wrapPages([nextPage], height, pageIndex);\n\n          case 11:\n            nextPages = _context3.sent;\n            return _context3.abrupt(\"return\", [].concat(nodes, nextPages));\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function wrapPages(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar wrapPage = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(page, height, pageIndex) {\n    var pages;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (pageIndex === void 0) {\n              pageIndex = 0;\n            }\n\n            if (page) {\n              _context4.next = 3;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", []);\n\n          case 3:\n            _context4.next = 5;\n            return wrapPages([cloneRecursively(page)], height, pageIndex);\n\n          case 5:\n            pages = _context4.sent;\n            return _context4.abrupt(\"return\", pages);\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function wrapPage(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar Document = /*#__PURE__*/function () {\n  function Document(root, props) {\n    this.root = root;\n    this.style = {};\n    this.props = props;\n    this.children = [];\n    this.subpages = [];\n  }\n\n  var _proto = Document.prototype;\n\n  _proto.appendChild = function appendChild(child) {\n    child.parent = this;\n    this.children.push(child);\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    var index = this.children.indexOf(child);\n\n    if (index !== -1) {\n      child.parent = null;\n      this.children.splice(index, 1);\n    }\n\n    child.cleanup();\n  };\n\n  _proto.addMetaData = function addMetaData() {\n    var _this$props = this.props,\n        title = _this$props.title,\n        author = _this$props.author,\n        subject = _this$props.subject,\n        keywords = _this$props.keywords,\n        creator = _this$props.creator,\n        producer = _this$props.producer; // The object keys need to start with a capital letter by the PDF spec\n\n    if (title) this.root.instance.info.Title = title;\n    if (author) this.root.instance.info.Author = author;\n    if (subject) this.root.instance.info.Subject = subject;\n    if (keywords) this.root.instance.info.Keywords = keywords;\n    this.root.instance.info.Creator = creator || 'react-pdf';\n    this.root.instance.info.Producer = producer || 'react-pdf';\n  };\n\n  _proto.loadFonts = /*#__PURE__*/function () {\n    var _loadFonts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var promises, listToExplore, node;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              promises = [];\n              listToExplore = this.children.slice(0);\n\n              while (listToExplore.length > 0) {\n                node = listToExplore.shift();\n\n                if (node.style && node.style.fontFamily) {\n                  promises.push(Font$1.load(node.style, this.root.instance));\n                }\n\n                if (node.children) {\n                  node.children.forEach(function (childNode) {\n                    listToExplore.push(childNode);\n                  });\n                }\n              }\n\n              _context.next = 5;\n              return Promise.all(promises);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function loadFonts() {\n      return _loadFonts.apply(this, arguments);\n    }\n\n    return loadFonts;\n  }();\n\n  _proto.loadEmojis = /*#__PURE__*/function () {\n    var _loadEmojis = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var promises, listToExplore, node;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              promises = [];\n              listToExplore = this.children.slice(0);\n\n              while (listToExplore.length > 0) {\n                node = listToExplore.shift();\n\n                if (typeof node === 'string') {\n                  promises.push.apply(promises, fetchEmojis(node));\n                } else if (typeof node.value === 'string') {\n                  promises.push.apply(promises, fetchEmojis(node.value));\n                } else if (node.children) {\n                  node.children.forEach(function (childNode) {\n                    listToExplore.push(childNode);\n                  });\n                }\n              }\n\n              _context2.next = 5;\n              return Promise.all(promises);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function loadEmojis() {\n      return _loadEmojis.apply(this, arguments);\n    }\n\n    return loadEmojis;\n  }();\n\n  _proto.loadImages = /*#__PURE__*/function () {\n    var _loadImages = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var promises, listToExplore, node;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              promises = [];\n              listToExplore = this.children.slice(0);\n\n              while (listToExplore.length > 0) {\n                node = listToExplore.shift();\n\n                if (node.name === 'Image') {\n                  promises.push(node.fetch());\n                }\n\n                if (node.children) {\n                  node.children.forEach(function (childNode) {\n                    listToExplore.push(childNode);\n                  });\n                }\n              }\n\n              _context3.next = 5;\n              return Promise.all(promises);\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function loadImages() {\n      return _loadImages.apply(this, arguments);\n    }\n\n    return loadImages;\n  }();\n\n  _proto.loadAssets = /*#__PURE__*/function () {\n    var _loadAssets = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return Promise.all([this.loadFonts(), this.loadImages(), this.loadEmojis()]);\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function loadAssets() {\n      return _loadAssets.apply(this, arguments);\n    }\n\n    return loadAssets;\n  }();\n\n  _proto.applyProps = function applyProps() {\n    this.children.forEach(function (child) {\n      return child.applyProps();\n    });\n  };\n\n  _proto.update = function update(newProps) {\n    this.props = newProps;\n  };\n\n  _proto.cleanup = function cleanup() {\n    this.subpages.forEach(function (p) {\n      return p.cleanup();\n    });\n  };\n\n  _proto.finish = function finish() {\n    this.children.forEach(function (c) {\n      return c.cleanup();\n    });\n  };\n\n  _proto.getLayoutData = function getLayoutData() {\n    return {\n      type: this.name,\n      children: this.subpages.map(function (c) {\n        return c.getLayoutData();\n      })\n    };\n  };\n\n  _proto.wrapPages = /*#__PURE__*/function () {\n    var _wrapPages2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var pageCount, pages, _iterator, _isArray, _i, _ref, page;\n\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              pageCount = 1;\n              pages = [];\n              _iterator = this.children, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();\n\n            case 3:\n              if (!_isArray) {\n                _context6.next = 9;\n                break;\n              }\n\n              if (!(_i >= _iterator.length)) {\n                _context6.next = 6;\n                break;\n              }\n\n              return _context6.abrupt(\"break\", 21);\n\n            case 6:\n              _ref = _iterator[_i++];\n              _context6.next = 13;\n              break;\n\n            case 9:\n              _i = _iterator.next();\n\n              if (!_i.done) {\n                _context6.next = 12;\n                break;\n              }\n\n              return _context6.abrupt(\"break\", 21);\n\n            case 12:\n              _ref = _i.value;\n\n            case 13:\n              page = _ref;\n\n              if (!page.wrap) {\n                _context6.next = 18;\n                break;\n              }\n\n              return _context6.delegateYield( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n                var wrapArea, subpages;\n                return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        wrapArea = page.isAutoHeight ? Infinity : page.size.height - (page.style.paddingBottom || 0);\n                        _context5.next = 3;\n                        return wrapPage(page, wrapArea, pageCount);\n\n                      case 3:\n                        subpages = _context5.sent;\n                        pageCount += subpages.length;\n                        subpages.forEach(function (sub, index) {\n                          return pages.push({\n                            page: sub,\n                            number: index + 1,\n                            count: subpages.length\n                          });\n                        });\n\n                      case 6:\n                      case \"end\":\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5);\n              })(), \"t0\", 16);\n\n            case 16:\n              _context6.next = 19;\n              break;\n\n            case 18:\n              pages.push({\n                page: page,\n                number: 1,\n                count: 1\n              });\n\n            case 19:\n              _context6.next = 3;\n              break;\n\n            case 21:\n              return _context6.abrupt(\"return\", pages);\n\n            case 22:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    }));\n\n    function wrapPages() {\n      return _wrapPages2.apply(this, arguments);\n    }\n\n    return wrapPages;\n  }();\n\n  _proto.renderPages = /*#__PURE__*/function () {\n    var _renderPages = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var subpages, normalized, j;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return this.wrapPages();\n\n            case 2:\n              subpages = _context7.sent;\n              normalized = subpages.map(function (p) {\n                return p.page;\n              });\n              this.subpages = normalized;\n              j = 0;\n\n            case 6:\n              if (!(j < this.subpages.length)) {\n                _context7.next = 13;\n                break;\n              } // Update dynamic text nodes with total pages info\n\n\n              this.subpages[j].renderDynamicNodes({\n                pageNumber: j + 1,\n                totalPages: subpages.length,\n                subPageNumber: subpages[j].number,\n                subPageTotalPages: subpages[j].count\n              }, function (node) {\n                return node.name === 'Text';\n              });\n              _context7.next = 10;\n              return this.subpages[j].render();\n\n            case 10:\n              j++;\n              _context7.next = 6;\n              break;\n\n            case 13:\n              return _context7.abrupt(\"return\", this.subpages);\n\n            case 14:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function renderPages() {\n      return _renderPages.apply(this, arguments);\n    }\n\n    return renderPages;\n  }();\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              this.addMetaData();\n              this.applyProps();\n              _context8.next = 5;\n              return this.loadAssets();\n\n            case 5:\n              _context8.next = 7;\n              return this.renderPages();\n\n            case 7:\n              this.root.instance.end();\n              Font$1.reset();\n              _context8.next = 14;\n              break;\n\n            case 11:\n              _context8.prev = 11;\n              _context8.t0 = _context8[\"catch\"](0);\n              throw _context8.t0;\n\n            case 14:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this, [[0, 11]]);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(Document, [{\n    key: \"name\",\n    get: function get() {\n      return 'Document';\n    }\n  }]);\n\n  return Document;\n}();\n\nDocument.defaultProps = {\n  author: null,\n  keywords: null,\n  subject: null,\n  title: null\n};\nvar availableMethods = ['dash', 'clip', 'save', 'path', 'fill', 'font', 'text', 'rect', 'scale', 'moveTo', 'lineTo', 'stroke', 'rotate', 'circle', 'lineCap', 'opacity', 'ellipse', 'polygon', 'restore', 'lineJoin', 'fontSize', 'fillColor', 'lineWidth', 'translate', 'miterLimit', 'strokeColor', 'fillOpacity', 'roundedRect', 'strokeOpacity', 'fillAndStroke', 'bezierCurveTo', 'quadraticCurveTo'];\n\nvar painter = function painter(instance) {\n  var p = availableMethods.reduce(function (acc, prop) {\n    var _extends2;\n\n    return _extends({}, acc, (_extends2 = {}, _extends2[prop] = function () {\n      instance[prop].apply(instance, arguments);\n      return p;\n    }, _extends2));\n  }, {});\n\n  p.linearGradient = function () {\n    return instance.linearGradient.apply(instance, arguments);\n  };\n\n  p.radialGradient = function () {\n    return instance.linearGradient.apply(instance, arguments);\n  };\n\n  return p;\n};\n\nvar Canvas = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(Canvas, _Base);\n\n  function Canvas() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = Canvas.prototype;\n\n  _proto.render = /*#__PURE__*/function () {\n    var _render = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$getAbsoluteLayo, left, top, width, height, availableWidth, availableHeight;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$getAbsoluteLayo = this.getAbsoluteLayout(), left = _this$getAbsoluteLayo.left, top = _this$getAbsoluteLayo.top, width = _this$getAbsoluteLayo.width, height = _this$getAbsoluteLayo.height;\n              availableWidth = width - this.paddingLeft - this.paddingRight;\n              availableHeight = height - this.paddingTop - this.paddingBottom;\n              warning(availableWidth && availableHeight, 'Canvas element has null width or height. Please provide valid values via the `style` prop in order to correctly render it.');\n              this.root.instance.save();\n              this.applyTransformations();\n              this.drawBackgroundColor();\n              this.drawBorders();\n              this.clip();\n              this.root.instance.translate(left + this.paddingLeft, top + this.paddingTop);\n\n              if (this.props.paint) {\n                this.props.paint(painter(this.root.instance), availableWidth, availableHeight);\n              }\n\n              this.root.instance.restore();\n\n              if (this.props.debug) {\n                this.debug();\n              }\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function render() {\n      return _render.apply(this, arguments);\n    }\n\n    return render;\n  }();\n\n  _createClass(Canvas, [{\n    key: \"name\",\n    get: function get() {\n      return 'Canvas';\n    }\n  }]);\n\n  return Canvas;\n}(Base);\n\nCanvas.defaultProps = {\n  style: {},\n  wrap: false\n};\nvar constructors = {\n  ROOT: Root,\n  PAGE: Page,\n  TEXT: Text,\n  LINK: Link,\n  VIEW: View,\n  NOTE: Note,\n  IMAGE: Image,\n  CANVAS: Canvas,\n  DOCUMENT: Document,\n  TEXT_INSTANCE: TextInstance\n};\n\nfunction createInstance(element, root) {\n  var type = element.type,\n      _element$props = element.props,\n      props = _element$props === void 0 ? {} : _element$props;\n\n  if (constructors[type]) {\n    return new constructors[type](root, props);\n  }\n\n  throw new Error(\"Invalid element of type \" + type + \" passed to PDF renderer\");\n}\n\nvar propsEqual = function propsEqual(a, b) {\n  var oldPropsKeys = Object.keys(a);\n  var newPropsKeys = Object.keys(b);\n\n  if (oldPropsKeys.length !== newPropsKeys.length) {\n    return false;\n  }\n\n  for (var i = 0; i < oldPropsKeys.length; i++) {\n    var propName = oldPropsKeys[i];\n\n    if (propName === 'render') {\n      if (!a[propName] !== !b[propName]) {\n        return false;\n      }\n\n      continue;\n    }\n\n    if (propName !== 'children' && a[propName] !== b[propName]) {\n      if (typeof a[propName] === 'object' && typeof b[propName] === 'object' && propsEqual(a[propName], b[propName])) {\n        continue;\n      }\n\n      return false;\n    }\n\n    if (propName === 'children' && (typeof a[propName] === 'string' || typeof b[propName] === 'string')) {\n      return a[propName] === b[propName];\n    }\n  }\n\n  return true;\n};\n\nvar emptyObject = {}; // If the Link has a string child or render prop, substitute the instance by a Text,\n// that will ultimately render the inline Link via the textkit PDF renderer.\n\nvar shouldReplaceLink = function shouldReplaceLink(type, props) {\n  return type === 'LINK' && (typeof props.children === 'string' || typeof props.children === 'number' || Array.isArray(props.children) || props.render);\n};\n\nvar PDFRenderer = ReactFiberReconciler({\n  schedulePassiveEffects: unstable_scheduleCallback,\n  cancelPassiveEffects: unstable_cancelCallback,\n  supportsMutation: true,\n  appendInitialChild: function appendInitialChild(parentInstance, child) {\n    parentInstance.appendChild(child);\n  },\n  createInstance: function createInstance$1(type, props, internalInstanceHandle) {\n    var instanceType = shouldReplaceLink(type, props) ? 'TEXT' : type;\n    return createInstance({\n      type: instanceType,\n      props: props\n    }, internalInstanceHandle);\n  },\n  createTextInstance: function createTextInstance(text, rootContainerInstance) {\n    return createInstance({\n      type: 'TEXT_INSTANCE',\n      props: text\n    }, rootContainerInstance);\n  },\n  finalizeInitialChildren: function finalizeInitialChildren(element, type, props) {\n    return false;\n  },\n  getPublicInstance: function getPublicInstance(instance) {\n    return instance;\n  },\n  prepareForCommit: function prepareForCommit() {// Noop\n  },\n  prepareUpdate: function prepareUpdate(element, type, oldProps, newProps) {\n    return !propsEqual(oldProps, newProps);\n  },\n  resetAfterCommit: function resetAfterCommit() {// Noop\n  },\n  resetTextContent: function resetTextContent(element) {// Noop\n  },\n  getRootHostContext: function getRootHostContext() {\n    return emptyObject;\n  },\n  getChildHostContext: function getChildHostContext() {\n    return emptyObject;\n  },\n  shouldSetTextContent: function shouldSetTextContent(type, props) {\n    return false;\n  },\n  now: Date.now,\n  useSyncScheduling: true,\n  appendChild: function appendChild(parentInstance, child) {\n    parentInstance.appendChild(child);\n  },\n  appendChildToContainer: function appendChildToContainer(parentInstance, child) {\n    parentInstance.appendChild(child);\n  },\n  insertBefore: function insertBefore(parentInstance, child, beforeChild) {\n    parentInstance.appendChildBefore(child, beforeChild);\n  },\n  removeChild: function removeChild(parentInstance, child) {\n    parentInstance.removeChild(child);\n  },\n  removeChildFromContainer: function removeChildFromContainer(parentInstance, child) {\n    parentInstance.removeChild(child);\n  },\n  commitTextUpdate: function commitTextUpdate(textInstance, oldText, newText) {\n    textInstance.update(newText);\n  },\n  commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n    instance.update(newProps);\n  }\n});\nvar version = \"1.6.16\";\nvar View$1 = 'VIEW';\nvar Text$1 = 'TEXT';\nvar Link$1 = 'LINK';\nvar Page$1 = 'PAGE';\nvar Note$1 = 'NOTE';\nvar Image$1 = 'IMAGE';\nvar Document$1 = 'DOCUMENT';\nvar Canvas$1 = 'CANVAS';\n\nvar pdf = function pdf(input) {\n  var container = createInstance({\n    type: 'ROOT'\n  });\n  var mountNode = PDFRenderer.createContainer(container);\n  if (input) updateContainer(input);\n\n  function callOnRender(params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (container.document.props.onRender) {\n      var layoutData = container.document.getLayoutData();\n      container.document.props.onRender(_extends({}, params, {\n        layoutData: layoutData\n      }));\n    }\n  }\n\n  function isDirty() {\n    return container.isDirty;\n  }\n\n  function updateContainer(doc) {\n    PDFRenderer.updateContainer(doc, mountNode, null);\n  }\n\n  function toBlob() {\n    return _toBlob.apply(this, arguments);\n  }\n\n  function _toBlob() {\n    _toBlob = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var stream;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return container.render();\n\n            case 2:\n              stream = container.instance.pipe(BlobStream());\n              return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                stream.on('finish', function () {\n                  try {\n                    var blob = stream.toBlob('application/pdf');\n                    callOnRender({\n                      blob: blob\n                    });\n                    resolve(blob);\n                  } catch (error) {\n                    reject(error);\n                  }\n                });\n                stream.on('error', reject);\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _toBlob.apply(this, arguments);\n  }\n\n  function toBuffer() {\n    return _toBuffer.apply(this, arguments);\n  }\n\n  function _toBuffer() {\n    _toBuffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return container.render();\n\n            case 2:\n              callOnRender();\n              return _context2.abrupt(\"return\", container.instance);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _toBuffer.apply(this, arguments);\n  }\n\n  function toString() {\n    var result = '';\n    container.render();\n    return new Promise(function (resolve, reject) {\n      try {\n        container.instance.on('data', function (buffer) {\n          result += buffer;\n        });\n        container.instance.on('end', function () {\n          callOnRender({\n            string: result\n          });\n          resolve(result);\n        });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  return {\n    isDirty: isDirty,\n    container: container,\n    updateContainer: updateContainer,\n    toBuffer: toBuffer,\n    toBlob: toBlob,\n    toString: toString\n  };\n};\n\nvar flatStyles = function flatStyles(stylesArray) {\n  return stylesArray.reduce(function (acc, style) {\n    return _extends({}, acc, style);\n  }, {});\n};\n\nvar Document$2 = function Document(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  return React.createElement(Document$1, props, children);\n};\n\nvar InternalBlobProvider = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(InternalBlobProvider, _React$PureComponent);\n\n  function InternalBlobProvider(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this; // Create new root container for this render\n\n    _this.state = {\n      blob: null,\n      url: null,\n      loading: true,\n      error: null\n    };\n    _this.instance = pdf();\n    return _this;\n  }\n\n  var _proto = InternalBlobProvider.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.renderDocument();\n    this.onDocumentUpdate();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.renderDocument();\n\n    if (this.instance.isDirty() && !this.state.error) {\n      this.onDocumentUpdate();\n    }\n  };\n\n  _proto.renderDocument = function renderDocument() {\n    this.instance.updateContainer(this.props.document);\n  };\n\n  _proto.onDocumentUpdate = function onDocumentUpdate() {\n    var _this2 = this;\n\n    var oldBlobUrl = this.state.url;\n    this.instance.toBlob().then(function (blob) {\n      _this2.setState({\n        blob: blob,\n        url: URL.createObjectURL(blob),\n        loading: false\n      }, function () {\n        return URL.revokeObjectURL(oldBlobUrl);\n      });\n    }).catch(function (error) {\n      _this2.setState({\n        error: error\n      });\n\n      console.error(error);\n      throw error;\n    });\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.state);\n  };\n\n  return InternalBlobProvider;\n}(React.PureComponent);\n\nvar BlobProvider = function BlobProvider(_ref2) {\n  var doc = _ref2.document,\n      children = _ref2.children;\n\n  if (!doc) {\n    warning(false, 'You should pass a valid document to BlobProvider');\n    return null;\n  }\n\n  return React.createElement(InternalBlobProvider, {\n    document: doc\n  }, children);\n};\n\nvar PDFViewer = function PDFViewer(_ref3) {\n  var className = _ref3.className,\n      style = _ref3.style,\n      children = _ref3.children,\n      innerRef = _ref3.innerRef,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"className\", \"style\", \"children\", \"innerRef\"]);\n\n  return React.createElement(InternalBlobProvider, {\n    document: children\n  }, function (_ref4) {\n    var url = _ref4.url;\n    return React.createElement(\"iframe\", _extends({\n      className: className,\n      ref: innerRef,\n      src: url,\n      style: Array.isArray(style) ? flatStyles(style) : style\n    }, props));\n  });\n};\n\nvar PDFDownloadLink = function PDFDownloadLink(_ref5) {\n  var doc = _ref5.document,\n      className = _ref5.className,\n      style = _ref5.style,\n      children = _ref5.children,\n      _ref5$fileName = _ref5.fileName,\n      fileName = _ref5$fileName === void 0 ? 'document.pdf' : _ref5$fileName;\n\n  if (!doc) {\n    warning(false, 'You should pass a valid document to PDFDownloadLink');\n    return null;\n  }\n\n  var downloadOnIE = function downloadOnIE(blob) {\n    return function () {\n      if (window.navigator.msSaveBlob) {\n        window.navigator.msSaveBlob(blob, fileName);\n      }\n    };\n  };\n\n  return React.createElement(InternalBlobProvider, {\n    document: doc\n  }, function (params) {\n    return React.createElement(\"a\", {\n      className: className,\n      download: fileName,\n      href: params.url,\n      onClick: downloadOnIE(params.blob),\n      style: Array.isArray(style) ? flatStyles(style) : style\n    }, typeof children === 'function' ? children(params) : children);\n  });\n};\n\nvar dom = {\n  pdf: pdf,\n  View: View$1,\n  Text: Text$1,\n  Link: Link$1,\n  Page: Page$1,\n  Font: Font$1,\n  Note: Note$1,\n  Image: Image$1,\n  Canvas: Canvas$1,\n  version: version,\n  Document: Document$2,\n  PDFViewer: PDFViewer,\n  StyleSheet: StyleSheet,\n  PDFRenderer: PDFRenderer,\n  BlobProvider: BlobProvider,\n  createInstance: createInstance,\n  PDFDownloadLink: PDFDownloadLink\n};\nexport default dom;\nexport { Document$2 as Document, BlobProvider, PDFViewer, PDFDownloadLink, pdf, View$1 as View, Text$1 as Text, Link$1 as Link, Page$1 as Page, Font$1 as Font, Note$1 as Note, Image$1 as Image, Canvas$1 as Canvas, version, StyleSheet, PDFRenderer, createInstance };"],"sourceRoot":""}